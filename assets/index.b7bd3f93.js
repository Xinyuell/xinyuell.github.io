var e=Object.defineProperty,t=(t,a,o)=>(((t,a,o)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o})(t,"symbol"!=typeof a?a+"":a,o),o);import{d as a,r as o,c as n,o as l,a as s,b as c,e as r,w as i,f as u,t as d,u as m,E as p,g as h,h as g,i as f,j as C,k as y,l as D,_ as v,F as k,p as I,m as M,n as w,q as L,s as b,v as A,x as V,y as x,z as T,A as R,B as N,C as B}from"./vendor.0f3aa042.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _=a({setup:e=>(e,t)=>{const a=o("router-view");return l(),n(a)}}),U={startGame:{btns:["为了孩子","为了拯救人类","为了感恩"],enterTitle:["你决定彻底消灭ACG文化","走上一条不被世界理解的道路"],enterTitle1:["你在大街上开始拦住路人宣讲、去图书馆演讲……","你大喊消灭ACG暴政，世界属于孩子！"],enterTitle2:["大城市ACG文化氛围太浓，垄断的文娱公司和被收买的无良媒体让你四处碰壁","你决定从从农村包围城市，先回到了老家"]},news:["XX游戏公司宣布：因放假调休，本周六未成年人8点到9点无法进入游戏。","XX视频网下架了一批不合规的动漫，群众纷纷鼓掌叫好","全国人民喜迎游戏版号新政策！","XX通知宣布，正在研究人脸识别的未成年人防沉迷效果，为未成年人保驾护航。","□□词，□口，信仰□□，□股，□□□□□□□□□□","XX日报发文：Steam注册流程存在漏洞，无严格身份验证","XX游戏公司公布统计数据：未成年人每周六晚8点有序排队进入游戏，一般8点50分可以陆续进入。","某消保委发布调查报告，称 21 部动画查出 1465 个问题点","某工委发布网络游戏行业防沉迷自律公约，抵制通过境外游戏平台向国内用户提供服务等行为","XX署下发关于进一步严格管理 切实防止未成年人沉迷网络游戏的通知,各大游戏公司积极响应拍手叫好"],guideTips:["解锁了金钱，金钱主要用于购买各项建筑以及研究ACG相关的知识。\n钱不是目的，只是手段，金钱对你来说如同粪土。\n你只是为了消灭ACG文化才收集了一点点钱。","解锁了动漫知识，这是一种研究资源。\n在研究分页内，解锁各项研究，加速你消灭ACG的进程。\n知己知彼百战百胜，我不入地狱谁入地狱。","你解锁了第一个信徒建筑，信徒是一群彻底追随你消灭ACG的助手，会帮你扩大影响力。\n前往小镇建设心理诊所吧。","信徒的增长比较缓慢，随着信徒越来越多，由于聚众效应，他们增长的速度也会越快。\n在工作面板分配信徒工作，可以扩大影响力、赚取金钱和研究知识。\n每名信徒可提供1点影响力、2点金钱或者1点知识的速度（研究知识会消耗2倍的金钱）","你解锁了印刷店，这是一种金钱效率建筑。\n首先你得有信徒在赚取金钱，它才会生效，每个印刷店会提高10%的赚取金钱效率","你解锁了书店，这是一种研究效率建筑。\n与印刷店一样，它会提高10%的研究动漫知识的效率","你来到新的电力时代，网瘾治疗中心，这将提供一种新的伪信徒——从众。\n从众没有信徒虔诚，他们不会主动去消灭ACG文化，但会被动的跟随信徒活动。\n即从众不会提高你的影响力上限。但你可以安排他们工作，每个从众需要额外消耗1点金钱每秒。\n从众的增长速度和信徒的增长速度一样，当信徒达到上限后，从众将获得两倍的增长速度。","你解锁了游戏知识，这是另一种ACG文化。\n游戏的荼毒更深，所以需要深入研究。每1点游戏知识需要消耗10点金钱，且只能通过信徒/从众工作获取。","你解锁了举报功能！\n举报是一项伟大的发明，将那些看不顺眼的ACG文化通通举报吧！至于对错Who care!"],complain:[["错误的举报,你惹到了一些你惹不起的人物","错误的举报,你惹到了一些你惹不起的人物","错误的举报,你惹到了一些你惹不起的人物","错误的举报,你惹到了一些你惹不起的人物","错误的举报,你惹到了一些你惹不起的人物"],["这本国内漫画是对日本的肤浅模仿。","你发现一本国内漫画的道德体系不对，感受不到作为一个人的道德感","这本国内漫画的舰娘文化太重，影响了青少年。",""],["这部国产动漫是在歪曲历史，哗众取宠。","你发现一部国产动漫是过度美化他国历史。","这部国产动漫的善恶观念被模糊，表现太多历史的阴暗面。","你发现一部国产动漫有太多的耽美因素，需要整改"],["国内游戏的修仙题材太多，同质性严重。修仙并不是传统文化的代表。","这款国产游戏有太多宗教元素，带来了不好的影响。","这款国产游戏的敏感词不完善，提示不规范，领导人的名字怎么能提示非法呢","这款国产游戏防沉迷做的不完善，9点钟没有强制登出未成年","这款国产游戏的血腥暴力成分太多，用了太多击杀、射杀、杀死等词语","这款国产游戏设置了违背社会公德的系统或玩法。","这款国产游戏存在双修（修仙）、结婚生子。"],["举报国外漫画1","举报国外漫画2","举报国外漫画3","举报国外漫画4","举报国外漫画5"],["举报国外动漫1","举报国外动漫2","举报国外动漫3","举报国外动漫4","举报国外动漫5"],["举报国外游戏1","举报国外游戏2","举报国外游戏3","举报国外游戏4","举报国外游戏5"],["举报外太空漫画1","举报外太空漫画2","举报外太空漫画3","举报外太空漫画4","举报外太空漫画5"],["举报外太空动漫1","举报外太空动漫2","举报外太空动漫3","举报外太空动漫4","举报外太空动漫5"],["举报外太空游戏1","举报外太空游戏2","举报外太空游戏3","举报外太空游戏4","举报外太空游戏5"]],comlainLogTips:["；  哎呀，不小心举报到了不该举报的人。你的影响力大受打击。","；  被你举报了。国内漫画行业大受打击，影响力开始下降。","；  被你举报了。国内动漫行业发展停滞，影响力开始下降。","；  被你举报了。国内游戏行业一蹶不振，影响力开始下降。","；  被你举报了。国际漫画行业被重挫，影响力急剧下降。","；  被你举报了。国际动漫行业回到起点，影响力急剧下降。","；  被你举报了。国际游戏行业完全崩溃了，影响力急剧下降。","；  被你举报了。外太空漫画行业在地球的市场全面萎缩，影响力大幅度下降。","；  被你举报了。外太空动漫行业在地球的市场彻底垮台，影响力大幅度下降。","；  被你举报了。外太空游戏行业在地球的市场遭遇毁灭性打击，影响大幅度下降。"],history:[{time:Date.UTC(2007,7,16),log:"从 2007年7月16日起，未成年人防沉迷系统正式启动。这是一个好的开始，你获得了100点影响力上限。"},{time:Date.UTC(2009,5,19),log:"2009年5月19日，《关于计算机预装绿色上网过滤软件的通知》正式下发，绿坝系统横空出世。你更加有信心了"}]};var P=(e,t)=>{for(const[a,o]of t)e[a]=o;return e};const G={class:"gametitle"};var S=P(a({setup(e){const t=s(U.startGame.enterTitle),a=s(U.startGame.btns);let n=0;const g=function(){0==n?(t[0]=U.startGame.enterTitle1[0],t[1]=U.startGame.enterTitle1[1]):1==n?(t[0]=U.startGame.enterTitle2[0],t[1]=U.startGame.enterTitle2[1]):2==n&&Jt.push("/game/build"),n++};return(e,n)=>{const s=o("el-main"),f=o("el-container");return l(),c("div",null,[r(f,{style:{height:"100%"}},{default:i((()=>[r(s,null,{default:i((()=>[u("div",G,[u("div",null,d(m(t)[0]),1),u("div",null,d(m(t)[1]),1)]),u("div",null,[r(m(p),{class:"elButton",type:"success",onClick:g},{default:i((()=>[h(d(m(a)[0]),1)])),_:1})]),u("div",null,[r(m(p),{class:"elButton",type:"success",onClick:g},{default:i((()=>[h(d(m(a)[1]),1)])),_:1})]),u("div",null,[r(m(p),{class:"elButton",type:"success",onClick:g},{default:i((()=>[h(d(m(a)[2]),1)])),_:1})])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-4577baf1"]]);const W=1,O=2,E=2,F=10,K=.05,z=10,q=Date.UTC(2007,7,16),X=2e4,j=50,J=86400,$=1e10,H=1e8,Q=2e6,Y=.05,Z=1e4,ee=5e4,te=2e5;var ae,oe,ne,le,se,ce,re,ie,ue,de;(oe=ae||(ae={}))[oe.None=0]="None",oe[oe.ShowPanel=1]="ShowPanel",oe[oe.Research=2]="Research",oe[oe.AutoUnLock=4]="AutoUnLock",oe[oe.Upgrade=8]="Upgrade",(le=ne||(ne={}))[le.None=0]="None",le[le.Upgrade=1]="Upgrade",le[le.AddInfluence=2]="AddInfluence",le[le.AddMoeny=3]="AddMoeny",le[le.AddResearch=4]="AddResearch",(ce=se||(se={}))[ce.None=0]="None",ce[ce.Influence=1]="Influence",ce[ce.Money=2]="Money",ce[ce.Cost1=3]="Cost1",ce[ce.Cost2=4]="Cost2",ce[ce.Believer=5]="Believer",ce[ce.People=6]="People",(ie=re||(re={}))[ie.None=0]="None",ie[ie.InfluenceMoneyLevel1=1]="InfluenceMoneyLevel1",ie[ie.BelieverBuildLevel1=2]="BelieverBuildLevel1",ie[ie.MoneyBuildLevel1=3]="MoneyBuildLevel1",ie[ie.ResearchBuildLevel1=4]="ResearchBuildLevel1",ie[ie.BelieverInfluenceMax1=5]="BelieverInfluenceMax1",ie[ie.InfluenceMoneyLevel2=6]="InfluenceMoneyLevel2",ie[ie.BelieverBuildLevel2=7]="BelieverBuildLevel2",ie[ie.MoneyBuildLevel2=8]="MoneyBuildLevel2",ie[ie.ResearchBuildLevel2=9]="ResearchBuildLevel2",ie[ie.InfluenceMoneyLevel3=10]="InfluenceMoneyLevel3",ie[ie.BelieverInfluenceMax2=11]="BelieverInfluenceMax2",ie[ie.BelieverBuildCost1=12]="BelieverBuildCost1",ie[ie.MoneyBuildCost1=13]="MoneyBuildCost1",ie[ie.ResearchBuildCost1=14]="ResearchBuildCost1",ie[ie.ComplainUnLock=15]="ComplainUnLock",ie[ie.AutoComplainLevel1=16]="AutoComplainLevel1",ie[ie.AutoComplainLevel2=17]="AutoComplainLevel2",ie[ie.AutoComplainWrongLevel1=18]="AutoComplainWrongLevel1",ie[ie.AutoComplainWrongLevel2=19]="AutoComplainWrongLevel2",(de=ue||(ue={}))[de.InfluenceMoney=0]="InfluenceMoney",de[de.BelieverAddInfluenceMax=1]="BelieverAddInfluenceMax",de[de.InfluenceBuildCost=2]="InfluenceBuildCost",de[de.MoneyBuildCost=3]="MoneyBuildCost",de[de.ResearchBuildCost=4]="ResearchBuildCost",de[de.MoneyRatio=5]="MoneyRatio",de[de.Cost1Ratio=6]="Cost1Ratio",de[de.Cost2Ratio=7]="Cost2Ratio",de[de.BelieverMax=8]="BelieverMax",de[de.PeopleMax=9]="PeopleMax";const me=new Map([[1,{ID:1,Name:"影响力",Desc:"你对这个社会的影响力，很多事情都需要扩大影响力之后才能办到。\n影响力解锁游戏进程，通过各种研究提高影响力上限",TipsContent:"",BaseMax:100,Type:5}],[2,{ID:2,Name:"金钱",Desc:"钱不是目的，只是手段，金钱对你来说如同粪土。\n你只是为了消灭ACG文化才收集了一点点钱",TipsContent:"",BaseMax:-1,Type:1}],[3,{ID:3,Name:"动漫知识",Desc:"知己知彼百战百胜，我不入地狱谁入地狱。\n每2点金钱转化1点动漫知识，需要买漫画书或者安排信徒研究\n在研究分页解锁各项研究",TipsContent:"",BaseMax:-1,Type:3}],[4,{ID:4,Name:"游戏知识",Desc:"游戏的荼毒更深，所以需要更多的氪金才能获得游戏知识。\n每10点金钱转化1点动漫知识，仅靠信徒研究获得\n在研究分页解锁各项研究",BaseMax:-1,TipsContent:"",Type:3}],[5,{ID:5,Name:"信徒",Desc:"信徒是一群彻底追随你消灭ACG的助手，会帮你扩大影响力。\n每个信徒提供1点影响力、2点金钱或1点动漫/游戏知识，且研究会按比例消耗金钱，可通过各种建筑提升效率\n信徒的增长速度和自身的人数相关，由于聚众效应，人越多增长越快",BaseMax:10,TipsContent:"",Type:1}],[6,{ID:6,Name:"从众",Desc:"从众是一群伪信徒，他们暂时性的追随你，但你需要付出一些金钱。\n从众与信徒工作能力一样，但每人消耗1点金钱。\n从众和信徒的增长速度一样，信徒达到上限后，从众增加速度翻倍。",BaseMax:10,TipsContent:"",Type:1}]]);var pe,he;(he=pe||(pe={}))[he.None=0]="None",he[he.AddInfluence=1]="AddInfluence",he[he.AddMoney=2]="AddMoney",he[he.AddResearch=3]="AddResearch",he[he.InfluenceLevel1=4]="InfluenceLevel1",he[he.MoneyLevel1=5]="MoneyLevel1",he[he.ResearchLevel1=6]="ResearchLevel1",he[he.InfulenceLevel2=7]="InfulenceLevel2",he[he.MoneyLevel2=8]="MoneyLevel2",he[he.ResearchLevel2=9]="ResearchLevel2";const ge=new Map([[1,{ID:1,Name:"街头闲聊",Desc:"点击获得1点影响力\n在街边闲聊，宣传ACG文化的坏处，扩大你的影响力",Type:4,cityName:0,OnClickType:2,UpgradeCostRatio:0,Require:0,UpgradeCostPower:0,ResearchProp:new Map}],[2,{ID:2,Name:"家教服务",Desc:"点击获得2点金钱\n为小镇居民提供家教服务，收取不菲的酬劳",Type:0,cityName:0,OnClickType:3,UpgradeCostRatio:0,UpgradeCostPower:0,Require:0,ResearchProp:new Map}],[3,{ID:3,Name:"买漫画书",Desc:"点击获得1点动漫知识（消耗2点金钱）\n在业余时间你了解动漫知识，为伟大的计划奠定良好的基础",Type:0,cityName:0,OnClickType:4,UpgradeCostRatio:0,UpgradeCostPower:0,Require:0,ResearchProp:new Map}],[4,{ID:4,Name:"心理诊所",Desc:"拯救心理问题的ACG青年，信徒上限+10",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:3,UpgradeCostPower:2,Require:2,ResearchProp:new Map([[8,10]])}],[5,{ID:5,Name:"印刷店",Desc:"帮助你宣传的同时赚一点钱，信徒金钱工作效率+10%",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:4,UpgradeCostPower:2,Require:3,ResearchProp:new Map([[5,.1]])}],[6,{ID:6,Name:"书店",Desc:"在书店研究漫画知识更快，信徒研究动漫知识效率+10%",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:4,UpgradeCostPower:2.2,Require:4,ResearchProp:new Map([[6,.1]])}],[7,{ID:7,Name:"网瘾治疗中心",Desc:"一种电疗实验，从众上限+100",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:6,UpgradeCostPower:2.05,Require:7,ResearchProp:new Map([[9,100]])}],[8,{ID:8,Name:"广告公司",Desc:"宣传你的思想，同时获得了不菲收益。信徒金钱工作效率+20%",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:8,UpgradeCostPower:2.05,Require:8,ResearchProp:new Map([[5,.2]])}],[9,{ID:9,Name:"运营公司",Desc:"运营一些游戏再偷偷搞垮它们，获得了不少游戏的知识。信徒研究游戏知识效率+5%",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:8,UpgradeCostPower:2.1,Require:9,ResearchProp:new Map([[7,.05]])}]]),fe=new Map([[1,{ID:1,Name:"流量引导",Desc:"消耗20点动漫知识。影响力有了，钱就有了。每1点影响力获得0.01点的金钱速度。",Cost1:20,Cost2:0,UnLock:[2],Condition:0,ResearchProp:new Map([[0,.01]])}],[2,{ID:2,Name:"心理诊所",Desc:"消耗50点动漫知识。解锁心理诊所建筑。这将解锁信徒这种重要资源",Cost1:50,Cost2:0,UnLock:[3,4],Condition:0}],[3,{ID:3,Name:"印刷店",Desc:"消耗100点动漫知识。解锁印刷店建筑，这将有助于信徒金钱工作的效率。",Cost1:100,Cost2:0,UnLock:[],Condition:0}],[4,{ID:4,Name:"书店",Desc:"消耗200点动漫知识。解锁书店建筑，这将有助于信徒研究工作的效率。",Cost1:200,Cost2:0,UnLock:[5,6,7],Condition:0}],[5,{ID:5,Name:"虔诚信徒",Desc:"消耗1000点动漫知识。信徒更加虔诚了，消灭ACG的思想也广为流传。每个信徒提升150点影响力上限",Cost1:500,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[1,150]])}],[6,{ID:6,Name:"流量变现",Desc:"消耗2000点动漫知识。你的影响力越高，你获得的钱就更多，每1点影响力增加额外0.05的金钱速度",Cost1:2e3,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[0,.05]])}],[7,{ID:7,Name:"网瘾治疗中心",Desc:"进入下一级城市，需要影响力达到3000点。消耗5000点动漫知识。你来到了电力时代，解锁新的建筑，这将获得一大批从众。",Cost1:5e3,Cost2:0,UnLock:[15],Condition:3e3}],[15,{ID:15,Name:"举报",Desc:"消耗10K的动漫知识和1000的游戏知识。举报是一项划时代的发明，从此你可以真正打击ACG的发展了。",Cost1:1e4,Cost2:0,UnLock:[8,9],Condition:0}],[8,{ID:8,Name:"广告公司",Desc:"消耗20K点动漫知识。解锁广告公司，进一步提高信徒/从众的工作效率",Cost1:2e4,Cost2:0,UnLock:[],Condition:0}],[9,{ID:9,Name:"运营中心",Desc:"消耗20K点动漫知识。解锁运营公司，进一步提高信徒/从众的研究效率",Cost1:2e4,Cost2:0,Condition:0,UnLock:[10,11]}],[10,{ID:10,Name:"精准投放",Desc:"消耗50K点动漫知识和5000点游戏知识。一些人对你的思想还不感冒，你得找到合适的受众来宣传ACG的坏处。影响力额外增加0.1的金钱速度",Cost1:5e4,Cost2:5e3,UnLock:[],Condition:0,ResearchProp:new Map([[0,.1]])}],[11,{ID:11,Name:"狂热信徒",Desc:"消耗100K的动漫知识和10K的游戏知识。\n狂热的信徒四处宣传ACG的坏处，每名信徒额外提升500点影响力上限\n开启自动举报的工作，可以安排信徒去自动举报了",Cost1:1e5,Cost2:1e4,UnLock:[16,18],Condition:0,ResearchProp:new Map([[1,500]])}],[16,{ID:16,Name:"海外信徒",Desc:"消耗200K的动漫知识和100K的游戏知识。\n你开始发展海外的信徒，信徒将会自动举报海外的ACG事件了。",Cost1:2e5,Cost2:1e5,UnLock:[],Condition:0}],[18,{ID:18,Name:"精准打击",Desc:"消耗200K的动漫知识和100K的游戏知识。\n降低50%信徒错误举报的概率。",Cost1:2e5,Cost2:1e5,UnLock:[],Condition:0}],[17,{ID:17,Name:"威慑银河系",Desc:"消耗2M的动漫知识和1M的游戏知识。\n你在整个银河系都赫赫有名，没有人敢发展ACG文化了。\n信徒将会自动举报外太空的ACG事件了",Cost1:2e6,Cost2:1e6,UnLock:[],Condition:0}],[19,{ID:19,Name:"完美打击",Desc:"消耗2M的动漫知识和1M的游戏知识。\n完美的打击ACG文化，再也不会有错误的举报了。",Cost1:2e6,Cost2:1e6,UnLock:[],Condition:0}]]);var Ce,ye;(ye=Ce||(Ce={}))[ye.InfluenceWork=0]="InfluenceWork",ye[ye.MoneyWork=1]="MoneyWork",ye[ye.Cost1Work=2]="Cost1Work",ye[ye.Cost2Work=3]="Cost2Work",ye[ye.ComplainWork=4]="ComplainWork";const De=new Map([[0,{ID:0,Name:"扩大影响",Desc:"每个信徒/从众提升1点影响力每秒。",Type:5}],[1,{ID:1,Name:"赚取金钱",Desc:"每个信徒/从众提升2点金钱每秒",Type:5}],[2,{ID:2,Name:"研究动漫",Desc:"每个信徒/从众消耗2点金钱，提升1点动漫知识每秒。（提升效率后消耗同比增加）",Type:5}],[3,{ID:3,Name:"研究游戏",Desc:"每个信徒/从众消耗10点金钱，提升1点游戏知识每秒。（提升效率后消耗同比增加）",Type:1}],[4,{ID:4,Name:"举报",Desc:"信徒/从众替你完成自动举报，人数越多举报的间隔越快。",Type:1}]]);function ve(e,t=1){return e>=1e4?function(e,t){for(let a=0;a<ke.length;a++)if(e>=ke[a].value/1.000501)return(e/ke[a].value).toPrecision(t).replace(Ie,"$1")+ke[a].symbol;return e.toPrecision(t).replace(Ie,"$1")}(e,3):parseFloat(e.toString()).toFixed(t)}let ke=[{value:1e63,symbol:"V"},{value:1e60,symbol:"Nd"},{value:1e57,symbol:"Od"},{value:1e54,symbol:"Sd"},{value:1e51,symbol:"sd"},{value:1e48,symbol:"Qd"},{value:1e45,symbol:"qd"},{value:1e42,symbol:"Td"},{value:1e39,symbol:"Dd"},{value:1e36,symbol:"Ud"},{value:1e33,symbol:"Dc"},{value:1e30,symbol:"N"},{value:1e27,symbol:"O"},{value:1e24,symbol:"Sp"},{value:1e21,symbol:"Sx"},{value:1e18,symbol:"Qi"},{value:1e15,symbol:"Qa"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}],Ie=/\.0+$|(\.[0-9]*[1-9])0+$/;let Me=0;function we(e){const t=je.state.gameData.sourceArr,a=je.state.gameData.buildArryList,o=je.state.gameData.workConfig,n=je.state.gameData.researchComplete,l=new Map;n.forEach((function(e){const t=fe.get(e).ResearchProp;void 0!==t&&t.forEach((function(e,t){l.set(t,e+(void 0===l.get(t)?0:l.get(t)))}))})),a.forEach((function(e,t){const a=e.ResearchProp;void 0!==a&&a.forEach((function(t,a){l.set(a,t*e.curValue+(void 0===l.get(a)?0:l.get(a)))}))})),function(e,t){e.forEach((function(e,a){let o;if(a===ue.BelieverMax&&(o=t.get(se.Believer),o.cacheMaxValue=o.baseMaxValue+e),a===ue.PeopleMax&&(o=t.get(se.People),o.cacheMaxValue=t.get(se.People).baseMaxValue+e),a===ue.BelieverAddInfluenceMax&&(o=t.get(se.Influence),o.cacheMaxValue=t.get(se.People).baseMaxValue+e*t.get(se.Believer).cacheValue),void 0===o)return;const n=ve(o.cacheMaxValue);n!==o.maxValue&&je.commit(Oe,{index:o.ID,value:n})}))}(l,t);const s=function(e,t,a,o,n){const l=e.get(se.Money);let s=a[Ce.Cost1Work],c=a[Ce.Cost2Work],r=e.get(se.Believer).cacheValue,i=Le(),u=1*Math.max(0,i-r);s*=(1+(o.get(ue.Cost1Ratio)?o.get(ue.Cost1Ratio):0))*E,c*=(1+(o.get(ue.Cost2Ratio)?o.get(ue.Cost2Ratio):0))*F;let d=e.get(se.Influence).cacheValue,m=a[Ce.MoneyWork]*O;o.has(ue.InfluenceMoney)?d*=o.get(ue.InfluenceMoney):d=0;o.has(ue.MoneyRatio)&&(m*=1+o.get(ue.MoneyRatio));let p=m+d-u-s-c;l.cacheSpeed=p;let h=!1;if(p*n+l.cacheValue<=0){for(let e=0;e<a.length;e++)a[e]=0;h=!0}return h}(t,0,o,l,e);t.forEach((function(a,n){!function(e,t,a,o,n,l){if(!e.unlock)return;switch(e.ID){case se.Influence:const a=o[Ce.InfluenceWork];e.cacheSpeed=a;break;case se.Cost1:let s=o[Ce.Cost1Work];n.has(ue.Cost1Ratio)&&(s*=1+n.get(ue.Cost1Ratio)),e.cacheSpeed=s;break;case se.Cost2:let c=o[Ce.Cost2Work];n.has(ue.Cost2Ratio)&&(c*=1+n.get(ue.Cost2Ratio)),e.cacheSpeed=c;break;case se.Believer:e.cacheSpeed=Math.max(.1,Math.pow(e.cacheValue,.5)*K);break;case se.People:if(l)e.cacheSpeed=0;else{const a=t.get(se.Believer);e.cacheSpeed=Math.max(.1,Math.pow(e.cacheValue,.5)*K),a.cacheMaxValue-e.cacheValue<=1e-5&&(e.cacheSpeed*=2)}}const s=ve(e.cacheSpeed,2);s!==e.speed&&je.commit(Ee,{index:e.ID,value:s})}(a,t,0,o,l,s),function(e,t){if(e.unlock)return;switch(e.ID){case se.Money:t.get(1).cacheValue>=10&&je.commit(ze,se.Money);break;case se.Cost1:t.get(1).cacheValue>=20&&je.commit(ze,se.Cost1)}}(a,t),function(e,t,a){if(!e.unlock)return 0;const o=e.cacheSpeed*t;e.cacheValue+=o,e.cacheMaxValue>=0&&e.cacheValue>e.cacheMaxValue&&(e.cacheValue=e.cacheMaxValue);e.cacheValue<0&&(e.cacheValue=0);e.ID===se.Influence&&(e.cacheValue>=1e4?je.state.gameData.influenceLevel=4:e.cacheValue>=3e3?je.state.gameData.influenceLevel=3:e.cacheValue>=1e3?je.state.gameData.influenceLevel=2:e.cacheValue>=100&&(je.state.gameData.influenceLevel=1));const n=ve(e.cacheValue);n!==e.curValue&&je.commit(We,{index:a,value:n})}(a,e,n)})),a.forEach((function(e,a){!function(e,t,a,o){if(e.unlock)return;switch(e.ID){case pe.AddMoney:t.get(1).cacheValue>=10&&(je.commit(Ke,e.ID),Ae(0));break;case pe.AddResearch:t.get(1).cacheValue>=20&&(je.commit(Ke,e.ID),Ae(1));break;default:const a=ge.get(e.ID).Require;o.indexOf(a)>0&&je.commit(Ke,e.ID)}}(e,t,0,n)})),function(e){Me=be();let t=Le();if(Me<t){let t=!1;return void(je.state.gameData.workConfig=e.map((function(e){return t?0:Me<e?(t=!0,-Me):(Me-=e,0)})))}if(je.state.gameData.autoWorkIndex<0)return;Math.floor(Me-t+1e-6)>=1&&je.commit(qe,{index:je.state.gameData.autoWorkIndex,value:1})}(o)}function Le(){let e=0;return je.state.gameData.workConfig.forEach((function(t){e+=t})),e}function be(){let e=0;return je.state.gameData.sourceArr.has(se.Believer)&&(e+=je.state.gameData.sourceArr.get(se.Believer).cacheValue),je.state.gameData.sourceArr.has(se.People)&&(e+=je.state.gameData.sourceArr.get(se.People).cacheValue),e}function Ae(e){je.commit(Fe,e),je.state.openGuide=!0}var Ve,xe;(xe=Ve||(Ve={}))[xe.Complain=0]="Complain",xe[xe.History=1]="History",xe[xe.Normal=2]="Normal",xe[xe.ComplainState=3]="ComplainState";const Te=["top-left","top-right","bottom-right","bottom-left"];function Re(e){const t=je.state.timelineLogs;if(t.length>=6){let e=-1;if(t.forEach(((t,a)=>{3===t.logType&&(e=a)})),e<0){const a={iconType:"success",color:"#67C23A",content:"",logType:3,rightCount:0,wrongCount:0};t.unshift(a),e=0}t.length;let a=t[e];je.state.timelineLogs=t.filter((function(e){return 0!==e.logType||("warning"===e.iconType?a.wrongCount++:a.rightCount++,!1)})),a.content="你一共举报成功: "+a.rightCount+"次；失败："+a.wrongCount+"次",t.length>=6&&(je.state.timelineLogs=t.filter((function(e){return 3===e.logType})))}je.state.timelineLogs.unshift(e)}function Ne(){if(this.logd)return void g.error({showClose:!0,message:"已经举报过了。得饶人处且饶人吧"});Be(this.message,parseInt(this.title)),this.logd=!0}function Be(e,t){e+=U.comlainLogTips[t];const a=je.state.gameData.sourceArr;if(0==t){const t=a.get(se.Influence).cacheValue*Y;je.commit(We,-t),e+="你降低了"+ve(t)+"点影响力"}else t<=3?(je.commit(Xe,-Z),e+="ACG文化降低了"+ve(Z)+"点影响力"):t<=6?(je.commit(Xe,-ee),e+="ACG文化降低了"+ve(ee)+"点影响力"):t<=9&&(je.commit(Xe,-te),e+="ACG文化降低了"+ve(te)+"点影响力");Re({timestamp:Ge(),iconType:t>0?"success":"warning",color:t>0?"#67C23A":"#E6A23C",content:e,logType:0})}function _e(){if(setTimeout((()=>{_e()}),1e4*Math.random()+1e4),!je.state.running)return;if(je.state.gameFail)return;if(je.state.gameData.researchComplete.indexOf(re.ComplainUnLock)<0)return;const e=function(){const e=100*Math.random(),t=Math.floor(3*Math.random());let a=0,o=1e3;const n=je.state.gameData.researchComplete,l=n.indexOf(re.BelieverInfluenceMax2)>=0,s=n.indexOf(re.AutoComplainLevel1)>=0,c=n.indexOf(re.AutoComplainLevel2)>=0;e<10?(a=0,o=1e3):e<70?(a=t+1,o=800):e<95?(a=t+4,o=600):(a=t+7,o=400);if(l&&a<=3)return;if(s&&a<=6)return;if(c&&a<=9)return;return function(e,t){const a=U.complain[e],o=Math.floor(Math.random()*a.length),n=Math.floor(4*Math.random()),l=500*Math.random();return{title:e.toString(),message:a[o],duration:t,position:Te[n],offset:l,showClose:!1,onClick:Ne}}(a,o)}();void 0!==e&&("0"!==e.title?C.success(e):C.warning(e))}function Ue(){const e=je.state.gameData.researchComplete;je.state.gameData.sourceArr;const t=je.state.gameData.workConfig[Ce.ComplainWork];if(je.state.running&&!je.state.gameFail&&e.indexOf(re.BelieverInfluenceMax2)>=0&&t>0){const t=Pe(),a=e.indexOf(re.AutoComplainLevel1)>=0,o=e.indexOf(re.AutoComplainLevel2)>=0,n=100*Math.random(),l=Math.floor(3*Math.random());let s=1;o?s+=n<=50?l:n<=80?l+3:l+6:a?n<=60?s+=l:n<=40&&(s+=l+3):s+=l;const c=U.complain[s];Be(c[Math.floor(Math.random()*c.length)],s),setTimeout((()=>{Ue()}),1e3*t)}else setTimeout((()=>{Ue()}),3e3)}function Pe(){const e=je.state.gameData.workConfig[Ce.ComplainWork];return e<=0?-1:100/Math.pow(e+10,.5)}function Ge(e){return void 0===e?new Date(q+je.state.gameData.totalTime*J).toLocaleDateString():new Date(e).toLocaleDateString()}class Se{constructor(){t(this,"timer"),t(this,"resourceIDMap"),t(this,"buildIDMap"),t(this,"now"),t(this,"totalTime"),this.resourceIDMap=new Map,this.buildIDMap=new Map,this.timer=0,this.now=Date.now(),this.totalTime=0}Start(e){!function(e,t){const a=e.gameData;if(void 0===t)return e.haslog=!1,!1;const o=f.decode(t),n=JSON.parse(o);void 0===n||void 0===n.sourceArr||void 0===n.buildArryList?e.haslog=!1:(a.acgProgressValue=n.acgProgressValue,a.influenceLevel=n.influenceLevel,a.researchUnLockList=n.researchUnLockList,a.researchComplete=n.researchComplete,a.workConfig=n.workConfig,a.autoWorkIndex=n.autoWorkIndex,a.newsID=new Set(n.newsID),a.totalTime=n.totalTime,a.historyLogID=n.historyLogID,n.sourceArr.forEach((function(e){a.sourceArr.has(e.ID)&&(a.sourceArr.get(e.ID).cacheValue=e.cacheValue,a.sourceArr.get(e.ID).unlock=e.unlock)})),n.buildArryList.forEach((function(e){a.buildArryList.has(e.ID)&&(a.buildArryList.get(e.ID).curValue=e.curValue,a.buildArryList.get(e.ID).unlock=e.unlock)})),e.haslog=!0)}(e,window.localStorage.kill_acg_game),this.timer=setInterval((()=>{this.update()}),j),setInterval((()=>{this.saveGame()}),X),setTimeout((()=>{this.randomNews()}),3e4),setTimeout((()=>{_e()}),1e3),setTimeout((()=>{Ue()}),1e3),this.now=Date.now()}randomNews(){if(setTimeout((()=>{this.randomNews()}),6e4*Math.random()+3e4),!je.state.running)return;if(je.state.gameFail)return;const e=Math.floor(Math.random()*U.news.length);g.success({message:U.news[e],duration:1e4,showClose:!0,center:!0,iconClass:"success"})}saveGame(){if(!je.state.running)return;if(je.state.gameFail)return;const e=function(){if(!je.state.running)return;if(je.state.gameFail)return;const e=je.state.gameData,t={sourceArr:[],buildArryList:[],acgProgressValue:e.acgProgressValue,influenceLevel:e.influenceLevel,researchUnLockList:e.researchUnLockList,researchComplete:e.researchComplete,workConfig:e.workConfig,autoWorkIndex:e.autoWorkIndex,newsID:Array.from(e.newsID),totalTime:e.totalTime,historyLogID:e.historyLogID};return e.sourceArr.forEach((function(e,a){t.sourceArr.push({cacheValue:e.cacheValue,unlock:e.unlock,ID:e.ID})})),e.buildArryList.forEach((function(e,a){t.buildArryList.push({curValue:e.curValue,unlock:e.unlock,ID:e.ID})})),t}(),t=f.encode(JSON.stringify(e));window.localStorage.setItem("kill_acg_game",t)}update(){if(!je.state.running)return void(this.now=Date.now());if(je.state.gameFail)return void(this.now=Date.now());const e=Date.now()-this.now;var t;je.state.gameData.totalTime+=e,function(){const e=je.state.gameData.historyLogID,t=U.history;for(let a=e+1;a<t.length-1;a++){const e=t[a];if(q+je.state.gameData.totalTime*J>=e.time)return Re({timestamp:Ge(e.time),iconType:"success",color:"#67C23A",content:e.log,logType:Ve.History}),void(je.state.gameData.historyLogID=a)}}(),this.now=Date.now(),we(e/1e3),t=e/1e3,je.state.gameData.influenceLevel<=1||(je.commit(Xe,t*Q),je.state.gameData.acgProgressValue>=$?(g.error({showClose:!0,message:"游戏失败了，世界各地都被ACG文化影响，你再也无法杀死ACG了！请重新开始，你将会获得一种稀有的资源——政治背景！"}),setTimeout((()=>{g.warning({showClose:!0,message:"不过此功能暂未开放！目前游戏内容你已经体验完了"})}),4e3),je.state.gameFail=!0):je.state.gameData.acgProgressValue<=0&&(je.state.gameData.acgProgressValue=0,g.success({showClose:!0,message:"世界各地都的ACG文化都被你消灭了，这个世界回归平静。你的心里充满了感恩和光明。游戏胜利了！"}),je.state.gameFail=!0))}}t(Se,"buildLevelMax",4),t(Se,"theme",0);const We="modifyResourceCurValue",Oe="modifyResourceMaxValue",Ee="setResourceSpeed",Fe="updateGuideTips",Ke="unlockBuild",ze="unlockResource",qe="updateWorkConfig",Xe="updateAcgProgressValue",je=y({state:{running:!1,haslog:!1,guideTipsID:-1,gameData:function(){const e={sourceArr:new Map([]),buildArryList:new Map([]),acgProgressValue:H,influenceLevel:0,newsID:new Set,researchUnLockList:[1],researchComplete:[],workConfig:[0,0,0,0,0],autoWorkIndex:-1,totalTime:0,historyLogID:-1},t=new Map([]);me.forEach((function(e,a){t.set(e.ID,{resourceName:e.Name,cacheValue:0,cacheSpeed:0,cacheMaxValue:e.BaseMax,baseMaxValue:e.BaseMax,curValue:"0",maxValue:e.BaseMax.toString(),speed:"0",unlock:(e.Type&ae.AutoUnLock)>0,ID:e.ID,tip_title:e.Desc,tip_content:e.TipsContent})}));const a=new Map([]);return ge.forEach((function(e,t){a.set(e.ID,{buildName:e.Name,curValue:0,unlock:(e.Type&ae.AutoUnLock)>0,cityName:e.cityName,ID:e.ID,click:e.OnClickType,baseTips:e.Desc,upgradeCostRatio:e.UpgradeCostRatio,upgradeCostPower:e.UpgradeCostPower,ResearchProp:e.ResearchProp})})),e.sourceArr=t,e.buildArryList=a,e}(),openGuide:!1,timelineLogs:[],gameFail:!1},mutations:{modifyResourceCurValue(e,t){e.gameData.sourceArr.has(t.index)&&(e.gameData.sourceArr.get(t.index).curValue=t.value)},modifyResourceMaxValue(e,t){e.gameData.sourceArr.has(t.index)&&(e.gameData.sourceArr.get(t.index).maxValue=t.value)},setResourceSpeed(e,t){e.gameData.sourceArr.has(t.index)&&(e.gameData.sourceArr.get(t.index).speed=t.value)},setGameRunning(e,t){e.running=t},replaceGameData(e,t){e.gameData=t},updateNews(e,t){e.gameData.newsID.add(t)},updateGuideTips(e,t){e.guideTipsID=t},completeResearch(e,t){e.gameData.researchComplete.push(t)},unlockResearch(e,t){t.forEach((function(t){e.gameData.researchUnLockList.push(t)}))},unlockBuild(e,t){e.gameData.buildArryList.has(t)&&(e.gameData.buildArryList.get(t).unlock=!0)},unlockResource(e,t){e.gameData.sourceArr.has(t)&&(e.gameData.sourceArr.get(t).unlock=!0)},updateWorkConfig(e,t){e.gameData.workConfig[t.index]+=t.value,e.gameData.workConfig[t.index]<0&&(e.gameData.workConfig[t.index]=0)},updateAutoWorkIndex(e,t){e.gameData.autoWorkIndex=t},updateAcgProgressValue(e,t){e.gameData.acgProgressValue+=t}}});const Je=h("导入存档"),$e=h("导出存档"),He=h("复制");var Qe=P(a({setup(e){const t=D("");function a(){try{let e=f.decode(t.value);const a=JSON.parse(e);void 0!==a&&void 0!==a.cityUnlock&&void 0!==a.sourceArr&&void 0!==a.buildArryList?(je.commit("replaceGameData",a),je.state.haslog=!0,g.success({showClose:!0,message:"导入成功，继续游戏吧！"})):g.error({showClose:!0,message:"存档数据不合法，导入失败"})}catch{g.error({showClose:!0,message:"存档数据不合法，导入失败"})}}async function n(){if(void 0===je.state.gameData||!1===je.state.haslog)return void g.error({showClose:!0,message:"没有存档数据"});const e=f.encode(JSON.stringify(je.state.gameData));t.value=e;try{await s(t.value),g.success({message:"内容已经成功复制到剪切板",type:"success"})}catch(a){g.error({showClose:!0,message:"失败了"})}}const{toClipboard:s}=v(),u=async()=>{try{await s(t.value),g.success({message:"内容已经成功复制到剪切板",type:"success"})}catch(e){g.error({showClose:!0,message:"失败了"})}};return(e,s)=>{const d=o("el-input"),m=o("el-button");return l(),c(k,null,[r(d,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e),rows:5,type:"textarea"},null,8,["modelValue"]),r(m,{type:"primary",onClick:a,plain:""},{default:i((()=>[Je])),_:1}),r(m,{type:"primary",onClick:n,plain:""},{default:i((()=>[$e])),_:1}),r(m,{type:"info",onClick:u,size:"mini",plain:""},{default:i((()=>[He])),_:1})],64)}}}),[["__scopeId","data-v-d02ed5ee"]]);const Ye=e=>(I("data-v-20853ec2"),e=e(),M(),e),Ze={class:"home"},et=h("载入/导出存档"),tt=h("成就"),at={class:"home"},ot=h("载入/导出存档"),nt=h("成就"),lt=Ye((()=>u("p",{style:{"font-size":"0.3rem"}},"本故事纯属虚构，如有雷同，纯属巧合",-1))),st={class:"dialog-footer"},ct=h("确认");var rt=P(a({setup(e){const t=D(!1);function a(){je.state.haslog?Jt.push("/game/build"):Jt.push("/introduction")}function n(){t.value=!0}function s(){g.warning({message:"敬请期待",type:"warning"})}function m(){return je.state.haslog?"继续游戏":"新游戏"}return(e,p)=>{const g=o("el-col"),f=o("el-button"),C=o("el-row"),y=o("el-dialog");return l(),c(k,null,[r(C,{class:"hidden-sm-and-down"},{default:i((()=>[r(g,{span:8}),r(g,{span:8},{default:i((()=>[u("div",Ze,[u("div",null,[r(f,{class:"elButton",type:"success",onClick:a,round:""},{default:i((()=>[h(d(m()),1)])),_:1})]),u("div",null,[r(f,{class:"elButton",type:"success",onClick:n,round:""},{default:i((()=>[et])),_:1})]),u("div",null,[r(f,{class:"elButton",type:"success",onClick:s,round:""},{default:i((()=>[tt])),_:1})])])])),_:1}),r(g,{span:8})])),_:1}),r(C,{class:"hidden-md-and-up"},{default:i((()=>[r(g,{span:24},{default:i((()=>[u("div",at,[u("div",null,[r(f,{class:"elButton",type:"success",onClick:a,round:""},{default:i((()=>[h(d(m()),1)])),_:1})]),u("div",null,[r(f,{class:"elButton",type:"success",onClick:n,round:""},{default:i((()=>[ot])),_:1})]),u("div",null,[r(f,{class:"elButton",type:"success",onClick:s,round:""},{default:i((()=>[nt])),_:1})]),lt])])),_:1})])),_:1}),r(y,{modelValue:t.value,"onUpdate:modelValue":p[1]||(p[1]=e=>t.value=e),title:"导入之前最好保存一份存档",width:"30%"},{footer:i((()=>[u("span",st,[r(f,{type:"primary",onClick:p[0]||(p[0]=e=>t.value=!1)},{default:i((()=>[ct])),_:1})])])),default:i((()=>[r(Qe)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-20853ec2"]]);const it={class:"leftTable workTable"},ut={style:{"margin-bottom":"0.2rem"}},dt={id:"spantitle"},mt={id:"workDataul"},pt={key:0,class:"worktab"},ht={class:"title"},gt={class:"tips",style:{"font-size":"0.1rem"}},ft={class:"number"},Ct=(e=>(I("data-v-2cdc4906"),e=e(),M(),e))((()=>u("span",null,null,-1)));var yt=P(a({setup(e){const t=w((function(){return e=>{if(e<3)return!0;const t=je.state.gameData.researchComplete;return!(3==e&&t.indexOf(re.ResearchBuildLevel2)<0)&&!(4==e&&t.indexOf(re.BelieverInfluenceMax2)<0)}})),a=w((function(){return e=>{let t=e.Desc;if(e.ID===Ce.ComplainWork){const e=je.state.gameData.researchComplete;e.indexOf(re.AutoComplainLevel1)>0?t+="\n当前信徒会自动举报国内、国外的ACG事件":e.indexOf(re.AutoComplainLevel2)>0?t+="\n当前信徒会自动举报国内、国外和外太空的ACG事件":t+="\n当前信徒仅自动举报国内的ACG事件",t+="\n当前举报一次的CD"+Pe().toFixed(2),t+=",增加人数CD会加速举报的进度"}return t}})),n=[function(e){I(e,0)},function(e){I(e,1)},function(e){I(e,2)},function(e){I(e,3)},function(e){I(e,4)}],s=[function(e){M(e,0)},function(e){M(e,1)},function(e){M(e,2)},function(e){M(e,3)},function(e){M(e,4)}],p=w((()=>{const e=je.state.gameData.workConfig,t=[];return De.forEach((function(a,o){t.push({count:e[o]?e[o]:0,Name:a.Name,ID:a.ID,Desc:a.Desc,clickAdd:n[o],clickSub:s[o]})})),t})),h=w((()=>{const e=je.state.gameData.workConfig,t=je.state.gameData.sourceArr;let a=0;t.has(se.Believer)&&(a+=t.get(se.Believer).cacheValue),t.has(se.People)&&(a+=t.get(se.People).cacheValue);let o=0;return e.forEach((e=>{o+=e})),Math.floor(a-o+1e-5)})),g=D(1);let f=1;function C(e){e>=0&&(y.value=!0),je.commit("updateAutoWorkIndex",e)}const y=D(!0);function v(e){!1===e?(f=g.value,g.value=-1):(f<0&&(f=0),g.value=f),je.commit("updateAutoWorkIndex",g.value)}function I(e,t){let a=1;e.ctrlKey&&(a*=10),e.shiftKey&&(a*=25),e.altKey&&(a*=100);const o=je.state.gameData.sourceArr.get(se.Money);let n=o.cacheValue+o.cacheSpeed;if(t===Ce.Cost1Work?n/=E:Ce.Cost2Work,n/=F,n=Math.floor(n),n<0)return;a=Math.min(a,n);let l=be(),s=Le();l>=s+a?je.commit(qe,{index:t,value:a}):(a=Math.floor(l-s+1e-5),a>0&&je.commit(qe,{index:t,value:a}))}function M(e,t){let a=1;e.ctrlKey&&(a*=10),e.shiftKey&&(a*=25),e.altKey&&(a*=100);const o=je.state.gameData.workConfig;o[t]>=a?je.commit(qe,{index:t,value:-a}):(a=-o[t],je.commit(qe,{index:t,value:a}))}return(e,n)=>{const s=o("el-switch"),f=o("el-popover"),D=o("el-button"),I=o("el-radio");return l(),c("div",it,[u("div",ut,[u("span",dt,"剩余人数："+d(m(h)),1),r(s,{modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=e=>y.value=e),onChange:v,"active-text":"自动分配","inactive-text":"关闭",style:{"margin-left":"0.4rem","font-size":"0.4rem",display:"inline-block"}},null,8,["modelValue"])]),u("ul",mt,[(l(!0),c(k,null,L(m(p),(e=>(l(),c(k,{key:e.ID},[m(t)(e.ID)?(l(),c("li",pt,[r(f,{placement:"bottom",trigger:"hover",transition:"",width:200},{reference:i((()=>[u("span",ht,d(e.Name),1)])),default:i((()=>[u("span",gt,d(m(a)(e)),1)])),_:2},1024),u("span",ft,d(m(ve)(m(je).state.gameData.workConfig[e.ID],0)),1),r(D,{type:"info",onClick:e.clickSub,icon:"el-icon-d-arrow-left",size:"mini",circle:""},null,8,["onClick"]),r(D,{type:"info",icon:"el-icon-d-arrow-right",size:"mini",circle:"",onClick:e.clickAdd},null,8,["onClick"]),r(I,{style:{"margin-left":"0.2rem"},modelValue:g.value,"onUpdate:modelValue":n[1]||(n[1]=e=>g.value=e),onChange:C,label:e.ID},{default:i((()=>[Ct])),_:2},1032,["modelValue","label"])])):b("",!0)],64)))),128))])])}}}),[["__scopeId","data-v-2cdc4906"]]);const Dt={class:"leftTable"},vt={class:"tips",style:{"font-size":"0.2rem"}},kt=u("br",null,null,-1),It={style:{"text-align":"center"}},Mt=a({setup(e){const t=w((()=>{const e=je.state.gameData.sourceArr,t=[];return e.forEach((function(e,a){e.unlock&&t.push(e)})),t}));return(e,a)=>{const n=o("el-popover"),s=o("el-table-column"),p=o("el-table");return l(),c("div",Dt,[r(p,{data:m(t),"show-header":!1,stripe:!0,"tooltip-effect":"dark",size:"small"},{default:i((()=>[r(s,{width:"110"},{default:i((({row:e})=>[r(n,{placement:"bottom",trigger:"hover",width:200,transition:""},{reference:i((()=>[u("span",null,d(e.resourceName),1)])),default:i((()=>[u("span",vt,[h(d(e.tip_title)+" ",1),kt,h(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1}),r(s,null,{default:i((({row:e})=>[u("p",It,d(e.cacheMaxValue>0?e.curValue+"/"+e.maxValue:e.curValue),1)])),_:1}),r(s,{width:"90"},{default:i((({row:e})=>[u("span",null,d(e.speed+"/s"),1)])),_:1})])),_:1},8,["data"])])}}}),wt=h("家园"),Lt=h("研究"),bt=a({setup(e){const t=D("/game/build");return(e,a)=>{const s=o("el-menu-item"),c=o("el-menu");return l(),n(c,{"default-active":t.value,class:"el-menu-demo",mode:"horizontal",router:"",style:{"margin-bottom":"0.01rem"},"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:i((()=>[r(s,{index:"/game/build"},{default:i((()=>[wt])),_:1}),r(s,{index:"/game/research"},{title:i((()=>[Lt])),_:1}),b("",!0),b("",!0)])),_:1},8,["default-active"])}}});var At=P(a({setup:e=>(e,t)=>{const a=o("el-timeline-item"),s=o("el-timeline"),u=o("el-scrollbar");return l(),n(u,{height:"6rem"},{default:i((()=>[r(s,{style:{padding:"0.2rem 0.1rem 0.1rem 0.1rem"}},{default:i((()=>[(l(!0),c(k,null,L(m(je).state.timelineLogs,((e,t)=>(l(),n(a,{key:t,type:e.iconType,color:e.color,timestamp:e.timestamp,"hide-timestamp":e.logType===m(Ve).ComplainState,class:"timelineItem"},{default:i((()=>[h(d(e.content),1)])),_:2},1032,["type","color","timestamp","hide-timestamp"])))),128))])),_:1})])),_:1})}}),[["__scopeId","data-v-72e56dd4"]]);const Vt={class:"tips",style:{"font-size":"0.1rem"}},xt=a({setup(e){const t=w((()=>{const e=100*je.state.gameData.acgProgressValue/$;return parseFloat(e.toFixed(2))})),a=w((()=>{const e=100*je.state.gameData.acgProgressValue/$,t=parseFloat(e.toFixed(2)),a=($-je.state.gameData.acgProgressValue)/Q;let o="ACG文化对世界造成的影响力"+ve(je.state.gameData.acgProgressValue)+"；进度："+t+"%\n";return o+="ACG文化影响力增长速度"+ve(Q)+"\n还需"+a.toFixed(1)+"天（现实时间1秒等于游戏时间一天）,世界将被毁灭!\n",o+="解锁举报功能后将有效遏制ACG文化的发展",o}));return(e,s)=>{const c=o("el-progress"),p=o("el-popover");return m(je).state.gameData.influenceLevel>1?(l(),n(p,{key:0,placement:"bottom",title:"ACG文化对世界的影响力",width:400,trigger:"hover"},{reference:i((()=>[r(c,{"text-inside":!0,"stroke-width":20,percentage:m(t),status:"exception",class:"head"},null,8,["percentage"])])),default:i((()=>[u("span",Vt,d(m(a)),1)])),_:1})):b("",!0)}}});const Tt=u("span",{style:{"font-size":"0.4rem","line-height":"0.5rem",display:"inline-block"}},"指引【ESC关闭】",-1),Rt={style:{"font-size":"0.3rem","line-height":"0.5rem",display:"inline-block","white-space":"pre-line"}},Nt=a({setup(e){const t=w((()=>{let e=.5;return je.state.gameData.influenceLevel>=2&&(e+=.6),e+"rem"}));D("/game/build");const a=w((()=>{const e=je.state.gameData.buildArryList.get(pe.InfluenceLevel1);return void 0!==e&&e.curValue>0}));return(e,s)=>{const p=o("el-col"),h=o("el-row"),g=o("router-view"),f=o("el-drawer");return l(),c(k,null,[r(h,null,{default:i((()=>[r(p,{span:6,class:"hidden-sm-and-down"}),r(p,{height:m(t),span:12,class:"hidden-sm-and-down"},{default:i((()=>[r(xt)])),_:1},8,["height"]),r(p,{height:m(t),span:24,class:"hidden-md-and-up"},{default:i((()=>[r(xt)])),_:1},8,["height"])])),_:1}),r(h,{style:{"margin-top":"1rem"},class:"hidden-sm-and-down"},{default:i((()=>[r(p,{span:4}),r(p,{span:5,class:"mainCol",style:{"line-height":"0.1rem"}},{default:i((()=>[r(Mt),m(a)?(l(),n(yt,{key:0})):b("",!0)])),_:1}),r(p,{span:6,class:"mainCol"},{default:i((()=>[r(bt),r(g)])),_:1}),r(p,{span:5,class:"mainCol"},{default:i((()=>[r(At)])),_:1})])),_:1}),r(h,{style:{"margin-top":"1rem"},class:"hidden-md-and-up"},{default:i((()=>[r(p,{span:24,class:"mainCol",style:{"line-height":"0.1rem"}},{default:i((()=>[r(Mt),m(a)?(l(),n(yt,{key:0})):b("",!0)])),_:1}),r(p,{span:24,class:"mainCol"},{default:i((()=>[r(bt),r(g)])),_:1}),r(p,{span:24,class:"mainCol"},{default:i((()=>[r(At)])),_:1})])),_:1}),r(f,{modelValue:m(je).state.openGuide,"onUpdate:modelValue":s[0]||(s[0]=e=>m(je).state.openGuide=e),title:"",direction:"ttb",size:"4rem","close-on-click-modal":!1,"show-close":!0},{title:i((()=>[Tt])),default:i((()=>[u("span",Rt,d(m(U).guideTips[m(je).state.guideTipsID]),1)])),_:1},8,["modelValue"])],64)}}});function Bt(e){return z*(e.curValue*e.upgradeCostRatio+Math.pow(e.upgradeCostPower,e.curValue))}const _t={class:"tips",style:{"font-size":"0.1rem"}};var Ut=P({props:{buildData:{type:Object,required:!0}},methods:{buildItemClick:function(){const e=je.state.gameData.sourceArr,t=this.buildData;switch(t.click){case ne.Upgrade:const a=Bt(t);if(a>e.get(se.Money).cacheValue)return;e.get(se.Money).cacheValue-=a,t.curValue++,function(e){e.ID===pe.InfluenceLevel1&&1===e.curValue&&(je.commit(ze,se.Believer),je.commit(We,{index:se.Believer,value:1}),Ae(3)),e.ID===pe.MoneyLevel1&&e.curValue,e.ID===pe.ResearchLevel1&&e.curValue,e.ID===pe.InfulenceLevel2&&1===e.curValue&&(je.commit(ze,se.People),Ae(6)),e.ID===pe.ResearchLevel2&&1===e.curValue&&Ae(7)}(t);break;case ne.AddInfluence:e.get(se.Influence).cacheValue+=W;break;case ne.AddMoeny:e.get(se.Money).cacheValue+=W*O;break;case ne.AddResearch:e.get(se.Money).cacheValue>=E&&(e.get(se.Cost1).cacheValue+=W,e.get(se.Money).cacheValue-=E)}}},computed:{tips:function(){const e=this.buildData;let t="";if(e.click===ne.Upgrade){t+="消耗"+ve(Bt(e))+"金钱\n";const a=je.state.gameData.sourceArr;Bt(e)>a.get(se.Money).cacheValue&&(t+="当前金钱"+ve(a.get(se.Money).cacheValue)+"无法升级\n")}return t+=e.baseTips,t},canClick:function(){const e=this.buildData;if(e.click===ne.Upgrade){const t=je.state.gameData.sourceArr;if(Bt(e)>t.get(se.Money).cacheValue)return!0}return!1}}},[["render",function(e,t,a,s,c,m){const p=o("el-button"),g=o("el-popover");return l(),n(g,{placement:"bottom",trigger:"hover",transition:"",width:200},{reference:i((()=>[r(p,{plain:m.canClick,class:"buildItem",type:"success",onClick:m.buildItemClick},{default:i((()=>[h(d(a.buildData.buildName)+" ",1),A(u("span",{class:"buildCount"},d(a.buildData.curValue),513),[[V,a.buildData.curValue>0]])])),_:1},8,["plain","onClick"])])),default:i((()=>[u("span",_t,d(m.tips),1)])),_:1})}]]);const Pt=u("h3",{class:"CollapsetitleText"},"村口",-1),Gt=u("h3",{class:"CollapsetitleText"},"小镇",-1),St=u("h3",{class:"CollapsetitleText"},"县城",-1),Wt=u("h3",{class:"CollapsetitleText"},"城市",-1),Ot=u("h3",{class:"CollapsetitleText"},"都市",-1),Et=a({setup(e){const t=D(["0","1","2","3","4"]),a=w((()=>{const e=je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&0===e.cityName&&t.push(e)})),t})),s=w((()=>{const e=je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&1===e.cityName&&t.push(e)})),t})),d=w((()=>{const e=je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&2===e.cityName&&t.push(e)})),t})),p=w((()=>{const e=je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&3===e.cityName&&t.push(e)})),t})),h=w((()=>{const e=je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&4===e.cityName&&t.push(e)})),t}));return(e,g)=>{const f=o("el-collapse-item"),C=o("el-collapse");return l(),c("div",null,[r(C,{modelValue:t.value,"onUpdate:modelValue":g[0]||(g[0]=e=>t.value=e)},{default:i((()=>[r(f,{name:"0",class:"Collapsetitle"},{title:i((()=>[Pt])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(a),(e=>(l(),n(Ut,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1}),m(s)&&m(s).length>0?(l(),n(f,{key:0,class:"Collapsetitle",name:"1"},{title:i((()=>[Gt])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(s),(e=>(l(),n(Ut,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):b("",!0),m(d)&&m(d).length>0?(l(),n(f,{key:1,class:"Collapsetitle",name:"2"},{title:i((()=>[St])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(d),(e=>(l(),n(Ut,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):b("",!0),m(p)&&m(p).length>0?(l(),n(f,{key:2,class:"Collapsetitle",name:"3"},{title:i((()=>[Wt])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(p),(e=>(l(),n(Ut,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):b("",!0),m(h)&&m(h).length>0?(l(),n(f,{key:3,class:"Collapsetitle",name:"4"},{title:i((()=>[Ot])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(h),(e=>(l(),n(Ut,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):b("",!0)])),_:1},8,["modelValue"])])}}}),Ft={class:"tips",style:{"font-size":"0.1rem"}};var Kt=P({props:{researchData:{type:Object,required:!0}},methods:{researchItemClick:function(){const e=this.researchData,t=je.state.gameData.sourceArr,a=t.get(se.Cost1),o=t.get(se.Cost2),n=t.get(se.Influence);e.Condition>n.cacheValue||e.Cost1>a.cacheValue||e.Cost2>o.cacheValue||(a.cacheValue-=e.Cost1,o.cacheValue-=e.Cost2,je.commit("completeResearch",e.ID),e.UnLock.length>0&&je.commit("unlockResearch",e.UnLock),e.ID==re.BelieverBuildLevel1&&Ae(2),e.ID==re.ResearchBuildLevel2&&je.commit(ze,se.Cost2),e.ID===re.ComplainUnLock&&Ae(8))}}},[["render",function(e,t,a,s,c,m){const p=o("el-button"),g=o("el-popover");return l(),n(g,{placement:"bottom",trigger:"hover"},{reference:i((()=>[r(p,{class:"buildItem",type:"info",plain:"",onClick:m.researchItemClick},{default:i((()=>[h(d(a.researchData.Name),1)])),_:1},8,["onClick"])])),default:i((()=>[u("span",Ft,d(a.researchData.Desc),1)])),_:1})}]]);const zt=e=>(I("data-v-3aab072f"),e=e(),M(),e),qt=zt((()=>u("h3",{class:"CollapsetitleText"},"未完成",-1))),Xt=zt((()=>u("h3",{class:"CollapsetitleText"},"已完成",-1)));var jt=P(a({setup(e){const t=D(["0"]),a=w((()=>{const e=[],t=je.state.gameData.researchUnLockList,a=je.state.gameData.researchComplete;return t.forEach((function(t){a.indexOf(t)<0&&e.push(fe.get(t))})),e})),s=w((()=>{const e=[];return je.state.gameData.researchComplete.forEach((function(t){e.push(fe.get(t))})),e}));return(e,d)=>{const p=o("el-collapse-item"),h=o("el-collapse");return l(),c("div",null,[r(h,{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=e=>t.value=e)},{default:i((()=>[r(p,{name:"0",class:"Collapsetitle"},{title:i((()=>[qt])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(a),(e=>(l(),n(Kt,{key:e.ID,"research-data":e},null,8,["research-data"])))),128))])])),_:1}),r(p,{name:"1",class:"Collapsetitle"},{title:i((()=>[Xt])),default:i((()=>[u("ul",null,[(l(!0),c(k,null,L(m(s),(e=>(l(),n(Kt,{key:e.ID,class:"buildItem","research-data":e},null,8,["research-data"])))),128))])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-3aab072f"]]);const Jt=x({history:T(),routes:[{path:"/",name:"home",component:rt,meta:{isGame:!1}},{path:"/introduction",name:"introduction",component:S,meta:{isGame:!1}},{name:"game",path:"/game",component:Nt,meta:{isGame:!0},children:[{path:"build",name:"build",component:Et,meta:{isGame:!0}},{path:"research",name:"research",component:jt,meta:{isGame:!0}}]}]});Jt.afterEach(((e,t)=>{e.meta.isGame?je.commit("setGameRunning",!0):je.commit("setGameRunning",!1)}));const $t=R(_);var Ht;$t.use(Jt),Ht=$t,(new Se).Start(je.state),Ht.use(je),$t.use(N),$t.use(B),$t.mount("#app");
