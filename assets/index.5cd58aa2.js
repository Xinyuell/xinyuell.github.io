var e=Object.defineProperty,a=(a,t,o)=>(((a,t,o)=>{t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o})(a,"symbol"!=typeof t?t+"":t,o),o);import{d as t,r as o,c as l,o as n,a as s,b as c,e as r,w as i,f as u,t as d,u as m,E as p,g as h,h as f,i as g,j as v,_ as y,F as C,k as D,l as I,p as k,m as b,n as w,q as M,v as L,s as V,x as N,y as R,z as _,A,B as x}from"./vendor.cf7d27bd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const T=t({setup:e=>(e,a)=>{const t=o("router-view");return n(),l(t)}}),U={startGame:{btns:["为了孩子","为了拯救人类","为了感恩"],enterTitle:["你决定彻底消灭ACG文化","走上一条不被世界理解的道路"],enterTitle1:["你在大街上开始拦住路人宣讲、去图书馆演讲……","你大喊消灭ACG暴政，世界属于孩子！"],enterTitle2:["大城市ACG文化氛围太浓，垄断的文娱公司和被收买的无良媒体让你四处碰壁","你决定从从农村包围城市，先回到了老家"]},news:[["0级新闻测试1号","0级新闻测试2号","0级新闻测试3号","0级新闻测试4号","0级新闻测试5号","0级新闻测试6号","0级新闻测试7号","0级新闻测试8号","0级新闻测试9号","0级新闻测试10号","0级新闻测试11号"],["1级新闻测试1号","1级新闻测试2号","1级新闻测试3号","1级新闻测试4号","1级新闻测试5号","1级新闻测试6号"]],guideTips:["解锁了金钱，金钱主要用于购买各项建筑。","解锁了知识，用于研究。"]};var B=(e,a)=>{for(const[t,o]of a)e[t]=o;return e};const P={class:"gametitle"};var S=B(t({setup(e){const a=s(U.startGame.enterTitle),t=s(U.startGame.btns);let l=0;const f=function(){0==l?(a[0]=U.startGame.enterTitle1[0],a[1]=U.startGame.enterTitle1[1]):1==l?(a[0]=U.startGame.enterTitle2[0],a[1]=U.startGame.enterTitle2[1]):2==l&&Ra.push("/game"),l++};return(e,l)=>{const s=o("el-header"),g=o("el-main"),v=o("el-container");return n(),c("div",null,[r(v,{style:{height:"100%"}},{default:i((()=>[r(s),r(g,null,{default:i((()=>[u("div",P,[u("div",null,d(m(a)[0]),1),u("div",null,d(m(a)[1]),1)]),u("div",null,[r(m(p),{class:"elButton",type:"success",onClick:f},{default:i((()=>[h(d(m(t)[0]),1)])),_:1})]),u("div",null,[r(m(p),{class:"elButton",type:"success",onClick:f},{default:i((()=>[h(d(m(t)[1]),1)])),_:1})]),u("div",null,[r(m(p),{class:"elButton",type:"success",onClick:f},{default:i((()=>[h(d(m(t)[2]),1)])),_:1})])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-2cd91edb"]]);const G=100,E=2,O=2,W=10,z=.001,q=10;var K,F,j,J,$,Q,H,X,Y,Z;(F=K||(K={}))[F.None=0]="None",F[F.ShowPanel=1]="ShowPanel",F[F.Research=2]="Research",F[F.AutoUnLock=4]="AutoUnLock",F[F.Upgrade=8]="Upgrade",(J=j||(j={}))[J.None=0]="None",J[J.Upgrade=1]="Upgrade",J[J.AddInfluence=2]="AddInfluence",J[J.AddMoeny=3]="AddMoeny",J[J.AddResearch=4]="AddResearch",(Q=$||($={}))[Q.None=0]="None",Q[Q.Influence=1]="Influence",Q[Q.Money=2]="Money",Q[Q.Cost1=3]="Cost1",Q[Q.Cost2=4]="Cost2",Q[Q.Believer=5]="Believer",Q[Q.People=6]="People",(X=H||(H={}))[X.None=0]="None",X[X.InfluenceMoneyLevel1=1]="InfluenceMoneyLevel1",X[X.BelieverBuildLevel1=2]="BelieverBuildLevel1",X[X.MoneyBuildLevel1=3]="MoneyBuildLevel1",X[X.ResearchBuildLevel1=4]="ResearchBuildLevel1",X[X.BelieverInfluenceMax1=5]="BelieverInfluenceMax1",X[X.InfluenceMoneyLevel2=6]="InfluenceMoneyLevel2",X[X.BelieverBuildLevel2=7]="BelieverBuildLevel2",X[X.MoneyBuildLevel2=8]="MoneyBuildLevel2",X[X.ResearchBuildLevel2=9]="ResearchBuildLevel2",X[X.InfluenceMoneyLevel3=10]="InfluenceMoneyLevel3",X[X.BelieverInfluenceMax2=11]="BelieverInfluenceMax2",X[X.BelieverBuildCost1=12]="BelieverBuildCost1",X[X.MoneyBuildCost1=13]="MoneyBuildCost1",X[X.ResearchBuildCost1=14]="ResearchBuildCost1",X[X.ComplainUnLock=15]="ComplainUnLock",(Z=Y||(Y={}))[Z.InfluenceMoney=0]="InfluenceMoney",Z[Z.BelieverAddInfluenceMax=1]="BelieverAddInfluenceMax",Z[Z.InfluenceBuildCost=2]="InfluenceBuildCost",Z[Z.MoneyBuildCost=3]="MoneyBuildCost",Z[Z.ResearchBuildCost=4]="ResearchBuildCost",Z[Z.MoneyRatio=5]="MoneyRatio",Z[Z.Cost1Ratio=6]="Cost1Ratio",Z[Z.Cost2Ratio=7]="Cost2Ratio";const ee=new Map([[1,{ID:1,Name:"影响力",Desc:"你对这个社会的影响力，很多事情都需要扩大影响力之后才能办到",TipsContent:"每20点影响力获得1点金钱每秒",BaseMax:100,Type:5}],[2,{ID:2,Name:"金钱",Desc:"钱不是目的，只是手段，金钱对你来说如同粪土",TipsContent:"你只是为了消灭ACG文化才收集了一点点钱",BaseMax:-1,Type:5}],[3,{ID:3,Name:"动漫知识",Desc:"知己知彼百战百胜，我不入地狱谁入地狱。",TipsContent:"在研究分页解锁各项研究",BaseMax:-1,Type:7}],[4,{ID:4,Name:"游戏知识",Desc:"知己知彼百战百胜，我不入地狱谁入地狱。",BaseMax:-1,TipsContent:"在研究分页解锁各项研究",Type:7}],[5,{ID:5,Name:"信徒",Desc:"信徒是一群彻底追随你消灭ACG的助手，会帮你扩大影响力。",BaseMax:100,TipsContent:"每个信徒提供1点基础的影响力速度，受各项研究和建筑的加成。安排信徒工作，每个信徒提升0.5%的效率。",Type:5}],[6,{ID:6,Name:"从众",Desc:"从众是一群伪信徒，他们暂时性的追随你，但你需要付出一些金钱",BaseMax:1e4,TipsContent:"每个从众提供1点额外的影响力速度。安排从众工作，每个从众也提升0.5%的效率。从众每秒消耗自身平方的金钱",Type:5}]]);var ae,te;(te=ae||(ae={}))[te.None=0]="None",te[te.AddInfluence=1]="AddInfluence",te[te.AddMoney=2]="AddMoney",te[te.AddResearch=3]="AddResearch",te[te.InfluenceLevel1=4]="InfluenceLevel1",te[te.MoneyLevel1=5]="MoneyLevel1",te[te.ResearchLevel1=6]="ResearchLevel1",te[te.InfulenceLevel2=7]="InfulenceLevel2",te[te.MoneyLevel2=8]="MoneyLevel2",te[te.ResearchLevel2=9]="ResearchLevel2";const oe=new Map([[1,{ID:1,Name:"街头闲聊",Desc:"在街边闲聊，宣传ACG文化的坏处，扩大你的影响力。点击获得1点影响力",Type:4,cityName:0,OnClickType:2,UpgradeCostRatio:0,Require:0,UpgradeCostPower:0}],[2,{ID:2,Name:"家教服务",Desc:"为小镇居民提供家教服务，收取不菲的酬劳。点击获得2点金钱",Type:0,cityName:0,OnClickType:3,UpgradeCostRatio:0,UpgradeCostPower:0,Require:0}],[3,{ID:3,Name:"买漫画书",Desc:"在业余时间你了解动漫知识，为伟大的计划奠定良好的基础。消耗5点金钱获得1点动漫知识",Type:0,cityName:0,OnClickType:4,UpgradeCostRatio:0,UpgradeCostPower:0,Require:0}],[4,{ID:4,Name:"心理诊所",Desc:"",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:1.5,UpgradeCostPower:3,Require:2}],[5,{ID:5,Name:"印刷店",Desc:"",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:3,UpgradeCostPower:2,Require:3}],[6,{ID:6,Name:"书店",Desc:"",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:2.5,UpgradeCostPower:2.5,Require:4}],[7,{ID:7,Name:"网瘾治疗中心",Desc:"",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:4,UpgradeCostPower:3.05,Require:7}],[8,{ID:8,Name:"广告公司",Desc:"",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:6,UpgradeCostPower:2.2,Require:8}],[9,{ID:9,Name:"运营公司",Desc:"",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:5,UpgradeCostPower:2.7,Require:9}]]),le=new Map([[1,{ID:1,Name:"流量引导",Desc:"I研究",Cost1:20,Cost2:0,UnLock:[2],Condition:0,ResearchProp:new Map([[0,.01]])}],[2,{ID:2,Name:"心理诊所",Desc:"I研究",Cost1:50,Cost2:0,UnLock:[3,4],Condition:0}],[3,{ID:3,Name:"印刷店",Desc:"I研究",Cost1:100,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[5,.1]])}],[4,{ID:4,Name:"书店",Desc:"I研究",Cost1:200,Cost2:0,UnLock:[5,6,7],Condition:0,ResearchProp:new Map([[6,.1]])}],[5,{ID:5,Name:"虔诚信徒",Desc:"I研究",Cost1:500,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[1,100]])}],[6,{ID:6,Name:"流量变现",Desc:"I研究",Cost1:500,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[0,.05]])}],[7,{ID:7,Name:"网瘾治疗中心",Desc:"I研究",Cost1:2e3,Cost2:0,UnLock:[8,9],Condition:1e4}],[8,{ID:8,Name:"广告公司",Desc:"I研究",Cost1:4e3,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[5,.2]])}],[9,{ID:9,Name:"运营中心",Desc:"I研究",Cost1:8e3,Cost2:0,UnLock:[10,11],Condition:0,ResearchProp:new Map([[7,.1]])}],[10,{ID:10,Name:"精准投放",Desc:"I研究",Cost1:1e4,Cost2:1e3,UnLock:[],Condition:0,ResearchProp:new Map([[0,.1]])}],[11,{ID:11,Name:"狂热信徒",Desc:"I研究",Cost1:1e4,Cost2:2e3,UnLock:[12,13,14,15],Condition:0,ResearchProp:new Map([[1,500]])}],[12,{ID:12,Name:"地方扶持教育",Desc:"I研究",Cost1:1e4,Cost2:5e3,UnLock:[],Condition:0,ResearchProp:new Map([[2,.1]])}],[13,{ID:13,Name:"地方扶持发展",Desc:"I研究",Cost1:1e4,Cost2:5e3,UnLock:[],Condition:0,ResearchProp:new Map([[3,.1]])}],[14,{ID:14,Name:"地方扶持文化",Desc:"I研究",Cost1:1e4,Cost2:5e3,UnLock:[],Condition:0,ResearchProp:new Map([[4,.1]])}],[15,{ID:15,Name:"举报",Desc:"I研究",Cost1:2e4,Cost2:2e4,UnLock:[],Condition:0}]]);var ne,se;(se=ne||(ne={}))[se.InfluenceWork=0]="InfluenceWork",se[se.MoneyWork=1]="MoneyWork",se[se.Cost1Work=2]="Cost1Work",se[se.Cost2Work=3]="Cost2Work";const ce=new Map([[0,{ID:0,Name:"扩大影响",Desc:"每个信徒/从众提升1点影响力每秒"}],[1,{ID:1,Name:"赚取金钱",Desc:"每个信徒/从众提升2点金钱每秒"}],[2,{ID:2,Name:"研究动漫",Desc:"每个信徒/从众消耗2点金钱，提升1点动漫知识每秒。（提升效率后消耗同比增加）"}],[3,{ID:3,Name:"研究游戏",Desc:"每个信徒/从众消耗10点金钱，提升1点游戏知识每秒。（提升效率后消耗同比增加）"}]]);function re(e,a=1){return e>=1e4?function(e,a){for(let t=0;t<ie.length;t++)if(e>=ie[t].value/1.000501)return(e/ie[t].value).toPrecision(a).replace(ue,"$1")+ie[t].symbol;return e.toPrecision(a).replace(ue,"$1")}(e,3):parseFloat(e.toString()).toFixed(a)}let ie=[{value:1e63,symbol:"V"},{value:1e60,symbol:"Nd"},{value:1e57,symbol:"Od"},{value:1e54,symbol:"Sd"},{value:1e51,symbol:"sd"},{value:1e48,symbol:"Qd"},{value:1e45,symbol:"qd"},{value:1e42,symbol:"Td"},{value:1e39,symbol:"Dd"},{value:1e36,symbol:"Ud"},{value:1e33,symbol:"Dc"},{value:1e30,symbol:"N"},{value:1e27,symbol:"O"},{value:1e24,symbol:"Sp"},{value:1e21,symbol:"Sx"},{value:1e18,symbol:"Qi"},{value:1e15,symbol:"Qa"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}],ue=/\.0+$|(\.[0-9]*[1-9])0+$/;function de(e){const a=De.state.gameData.sourceArr,t=De.state.gameData.buildArryList,o=De.state.gameData.workConfig,l=De.state.gameData.researchComplete,n=new Map;l.forEach((function(e){const a=le.get(e).ResearchProp;void 0!==a&&a.forEach((function(e,a){n.set(a,e+(void 0===n.get(a)?0:n.get(a)))}))}));const s=function(e,a,t,o,l){const n=e.get($.Money);let s=t[ne.Cost1Work],c=t[ne.Cost2Work],r=e.get($.Believer).cacheValue,i=0;t.forEach((function(e){i+=e}));let u=1*(i-r);s*=(1+(o.get(Y.Cost1Ratio)?o.get(Y.Cost1Ratio):0))*O,c*=(1+(o.get(Y.Cost2Ratio)?o.get(Y.Cost2Ratio):0))*W;let d=e.get($.Influence).cacheValue,m=t[ne.MoneyWork]*E;o.has(Y.InfluenceMoney)?d*=o.get(Y.InfluenceMoney):d=0;o.has(Y.MoneyRatio)&&(m*=1+o.get(Y.MoneyRatio));let p=m+d-u-s-c;n.cacheSpeed=p;let h=!1;if(p*l+n.cacheValue<=0){for(let e=0;e<t.length;e++)t[e]=0;h=!0}return h}(a,0,o,n,e);a.forEach((function(t,l){!function(e,a,t,o,l,n){if(!e.unlock)return;switch(e.ID){case $.Influence:const t=o[ne.InfluenceWork];e.cacheSpeed=t;break;case $.Cost1:let s=o[ne.Cost1Work];l.has(Y.Cost1Ratio)&&(s*=1+l.get(Y.Cost1Ratio)),e.cacheSpeed=s;break;case $.Cost2:let c=o[ne.Cost2Work];l.has(Y.Cost2Ratio)&&(c*=1+l.get(Y.Cost2Ratio)),e.cacheSpeed=c;break;case $.Believer:e.cacheSpeed=e.cacheValue*z+z;break;case $.People:if(n)e.cacheSpeed=0;else{const t=a.get($.Believer);e.cacheSpeed=t.cacheValue*z+z,t.cacheMaxValue-e.cacheValue<=1e-5&&(e.cacheSpeed*=2)}}const s=re(e.cacheSpeed);s!==e.speed&&De.commit(ge,{index:e.ID,value:s})}(t,a,0,o,n,s),function(e,a){e.ID===$.Influence&&e.cacheValue;if(e.unlock)return;switch(e.ID){case $.Money:a.get(1).cacheValue>=10&&De.commit(Ce,$.Money);break;case $.Cost1:a.get(1).cacheValue>=20&&De.commit(Ce,$.Cost1)}}(t,a),function(e,a,t){if(!e.unlock)return 0;const o=e.cacheSpeed*a;e.cacheValue+=o,e.cacheMaxValue>0&&e.cacheValue>e.cacheMaxValue&&(e.cacheValue=e.cacheMaxValue);e.cacheValue<0&&(e.cacheValue=0);const l=re(e.cacheValue);l!==e.curValue&&De.commit(fe,{index:t,value:l})}(t,e,l)})),t.forEach((function(e,t){!function(e,a,t,o){if(e.unlock)return;switch(e.ID){case ae.AddMoney:a.get(1).cacheValue>=10&&(De.commit(ye,e.ID),De.commit(ve,0));break;case ae.AddResearch:a.get(1).cacheValue>=20&&(De.commit(ye,e.ID),De.commit(ve,1));break;default:const t=oe.get(e.ID).Require;o.indexOf(t)>0&&De.commit(ye,e.ID)}}(e,a,0,l)}))}function me(e){const a=function(){const e={sourceArr:new Map([]),buildArryList:new Map([]),acgProgressData:{value:50,max:1e10,cur:5e9},influenceLevel:0,newsID:[[0,-1],[1,-1]],researchUnLockList:[1],researchComplete:[],workConfig:[10,10,10,10]},a=new Map([]);ee.forEach((function(e,t){a.set(e.ID,{resourceName:e.Name,cacheValue:10,cacheSpeed:.1,cacheMaxValue:e.BaseMax,curValue:"0",maxValue:e.BaseMax.toString(),speed:"0",unlock:(e.Type&K.AutoUnLock)>0,ID:e.ID,tip_title:e.Desc,tip_content:e.TipsContent})}));const t=new Map([]);return oe.forEach((function(e,a){t.set(e.ID,{buildName:e.Name,curValue:0,unlock:(e.Type&K.AutoUnLock)>0,cityName:e.cityName,ID:e.ID,click:e.OnClickType,baseTips:e.Desc,upgradeCostRatio:e.UpgradeCostRatio,upgradeCostPower:e.UpgradeCostPower})})),e.sourceArr=a,e.buildArryList=t,e}();if(void 0===e)return{gameData:a,success:!1};const t=f.decode(e),o=JSON.parse(t);return void 0===o||void 0===o.sourceArr||void 0===o.buildArryList?{gameData:a,success:!1}:(a.acgProgressData=o.acgProgressData,a.influenceLevel=o.influenceLevel,a.researchUnLockList=o.researchUnLockList,a.researchComplete=o.researchComplete,a.workConfig=o.workConfig,o.sourceArr.forEach((function(e){a.sourceArr.has(e.ID)&&(a.sourceArr.get(e.ID).cacheValue=e.cacheValue,a.sourceArr.get(e.ID).cacheMaxValue=e.cacheMaxValue,a.sourceArr.get(e.ID).unlock=e.unlock)})),o.buildArryList.forEach((function(e){a.buildArryList.has(e.ID)&&(a.buildArryList.get(e.ID).curValue=e.curValue,a.buildArryList.get(e.ID).unlock=e.unlock)})),{gameData:a,success:!0})}const pe=class{constructor(){a(this,"timer"),a(this,"resourceIDMap"),a(this,"buildIDMap"),a(this,"now"),a(this,"totalTime"),this.resourceIDMap=new Map,this.buildIDMap=new Map,this.timer=0,this.now=Date.now(),this.totalTime=0}Start(){const{gameData:e,success:a}=me(window.localStorage.kill_acg_game);return De.state.haslog=a,this.timer=setInterval((()=>{this.update()}),pe.updateTime),setInterval((()=>{this.saveGame()}),pe.saveTime),setTimeout((()=>{this.randomNews()}),5e3),this.now=Date.now(),e}randomNews(){setTimeout((()=>{this.randomNews()}),5e3*Math.random()+5e4)}saveGame(){const e=function(){if(!De.state.running)return;const e=De.state.gameData,a={sourceArr:[],buildArryList:[],acgProgressData:e.acgProgressData,influenceLevel:e.influenceLevel,researchUnLockList:e.researchUnLockList,researchComplete:e.researchComplete,workConfig:e.workConfig};return e.sourceArr.forEach((function(e,t){a.sourceArr.push({cacheValue:e.cacheValue,cacheMaxValue:e.cacheMaxValue,unlock:e.unlock,ID:e.ID})})),e.buildArryList.forEach((function(e,t){a.buildArryList.push({curValue:e.curValue,unlock:e.unlock,ID:e.ID})})),a}(),a=f.encode(JSON.stringify(e));window.localStorage.setItem("kill_acg_game",a)}update(){if(!De.state.running)return void(this.now=Date.now());const e=(Date.now()-this.now)/1e3;this.now=Date.now(),de(e)}};let he=pe;a(he,"saveTime",2e4),a(he,"updateTime",50),a(he,"buildLevelMax",4),a(he,"theme",0);const fe="modifyResourceCurValue",ge="setResourceSpeed",ve="updateGuideTips",ye="unlockBuild",Ce="unlockResource",De=g({state:{running:!1,haslog:!1,guideTipsID:-1},mutations:{modifyResourceCurValue(e,a){const t=e.gameData;t.sourceArr.has(a.index)&&(t.sourceArr.get(a.index).curValue=a.value)},modifyResourceMaxValue(e,a){const t=e.gameData;t.sourceArr.has(a.index)&&(t.sourceArr.get(a.index).maxValue+=a.value)},setResourceSpeed(e,a){const t=e.gameData;t.sourceArr.has(a.index)&&(t.sourceArr.get(a.index).speed=a.value)},setGameRunning(e,a){e.running=a},replaceGameData(e,a){e.gameData=a},updateNews(e,a){e.gameData.newsID[a.newsIndex]=a.news},updateGuideTips(e,a){e.guideTipsID=a},completeResearch(e,a){e.gameData.researchComplete.push(a)},unlockResearch(e,a){const t=e.gameData;a.forEach((function(e){t.researchUnLockList.push(e)}))},unlockBuild(e,a){const t=e.gameData;t.buildArryList.has(a)&&(t.buildArryList.get(a).unlock=!0)},unlockResource(e,a){const t=e.gameData;t.sourceArr.has(a)&&(t.sourceArr.get(a).unlock=!0)},updateWorkConfig(e,a){e.gameData.workConfig[a.index]+=a.value}}});const Ie=h("导入存档"),ke=h("导出存档"),be=h("复制");var we=B(t({setup(e){const a=v("");function t(){try{let e=f.decode(a.value);const t=JSON.parse(e);void 0!==t&&void 0!==t.cityUnlock&&void 0!==t.sourceArr&&void 0!==t.buildArryList?(De.commit("replaceGameData",t),De.state.haslog=!0,D.error({showClose:!0,message:"导入成功，继续游戏吧！"})):D.error({showClose:!0,message:"存档数据不合法，导入失败"})}catch{D.error({showClose:!0,message:"存档数据不合法，导入失败"})}}async function l(){if(void 0===De.state.gameData||!1===De.state.haslog)return void D.error({showClose:!0,message:"没有存档数据"});const e=f.encode(JSON.stringify(De.state.gameData));a.value=e;try{await s(a.value),D.error({message:"内容已经成功复制到剪切板",type:"success"})}catch(t){D.error({showClose:!0,message:"失败了"})}}const{toClipboard:s}=y(),u=async()=>{try{await s(a.value),D.error({message:"内容已经成功复制到剪切板",type:"success"})}catch(e){D.error({showClose:!0,message:"失败了"})}};return(e,s)=>{const d=o("el-input"),m=o("el-button");return n(),c(C,null,[r(d,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),rows:5,type:"textarea"},null,8,["modelValue"]),r(m,{type:"primary",onClick:t,plain:""},{default:i((()=>[Ie])),_:1}),r(m,{type:"primary",onClick:l,plain:""},{default:i((()=>[ke])),_:1}),r(m,{type:"info",onClick:u,size:"mini",plain:""},{default:i((()=>[be])),_:1})],64)}}}),[["__scopeId","data-v-00a19da4"]]);const Me={class:"home"},Le=h("载入/导出存档"),Ve=h("成就"),Ne={class:"dialog-footer"},Re=h("确认");var _e=B(t({setup(e){const a=v(!1);function t(){De.state.haslog?Ra.push("/game/build"):Ra.push("/introduction")}function l(){a.value=!0}function s(){D.error({message:"敬请期待",type:"warning"})}return(e,m)=>{const p=o("el-button"),f=o("el-dialog");return n(),c(C,null,[u("div",Me,[u("div",null,[r(p,{class:"elButton",type:"success",onClick:t,round:""},{default:i((()=>[h(d(De.state.haslog?"继续游戏":"新游戏"),1)])),_:1})]),u("div",null,[r(p,{class:"elButton",type:"success",onClick:l,round:""},{default:i((()=>[Le])),_:1})]),u("div",null,[r(p,{class:"elButton",type:"success",onClick:s,round:""},{default:i((()=>[Ve])),_:1})])]),r(f,{modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=e=>a.value=e),title:"导入之前最好保存一份存档",width:"30%"},{footer:i((()=>[u("span",Ne,[r(p,{type:"primary",onClick:m[0]||(m[0]=e=>a.value=!1)},{default:i((()=>[Re])),_:1})])])),default:i((()=>[r(we)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-9fc0293c"]]);const Ae=e=>(k("data-v-963d6ff0"),e=e(),b(),e),xe={class:"leftTable workTable"},Te={class:"titlep"},Ue=Ae((()=>u("span",null,"安排信徒/从众工作",-1))),Be={style:{"margin-left":"30px"}},Pe={id:"workDataul"},Se={class:"worktab"},Ge={class:"title"},Ee={class:"number"},Oe=Ae((()=>u("span",null,null,-1))),We={class:"worktab"},ze={class:"title"},qe={class:"number"},Ke=Ae((()=>u("span",null,null,-1))),Fe={class:"worktab"},je={class:"title"},Je={class:"number"},$e=Ae((()=>u("span",null,null,-1))),Qe={class:"worktab"},He={class:"title"},Xe={class:"number"},Ye=Ae((()=>u("span",null,null,-1)));var Ze=B(t({setup(e){const a=I((()=>{const e=De.state.gameData.workConfig,a=[];return ce.forEach((function(t,o){a.push({count:e[o]?e[o]:0,Name:t.Name,ID:t.ID,Desc:t.Desc})})),a})),t=I((()=>{const e=De.state.gameData.workConfig,a=De.state.gameData.sourceArr;let t=0;a.has($.Believer)&&(t+=a.get($.Believer).cacheValue),a.has($.People)&&(t+=a.get($.People).cacheValue);let o=0;return e.forEach((e=>{o+=e})),Math.floor(t-o+1e-5)})),l=v(0);function s(){}function p(e,a){let t=1;e.ctrlKey&&(t*=10),e.shiftKey&&(t*=25),e.altKey&&(t*=100);const o=De.state.gameData.workConfig,l=De.state.gameData.sourceArr;let n=0;l.has($.Believer)&&(n+=l.get($.Believer).cacheValue),l.has($.People)&&(n+=l.get($.People).cacheValue);let s=0;o.forEach((e=>{s+=e})),n>=s+t?De.commit("updateWorkConfig",{index:a,value:t}):(t=Math.floor(n-s+1e-5),t>0&&De.commit("updateWorkConfig",{index:a,value:t}))}function h(e,a){let t=1;e.ctrlKey&&(t*=10),e.shiftKey&&(t*=25),e.altKey&&(t*=100);const o=De.state.gameData.workConfig;o[a]>=t?De.commit("updateWorkConfig",{index:a,value:-t}):(t=-o[a],De.commit("updateWorkConfig",{index:a,value:t}))}function f(e){p(e,0)}function g(e){h(e,0)}function y(e){p(e,1)}function C(e){h(e,1)}function D(e){p(e,2)}function k(e){h(e,2)}function b(e){p(e,3)}function w(e){h(e,3)}return(e,p)=>{const h=o("el-button"),v=o("el-radio");return n(),c("div",xe,[u("div",Te,[Ue,u("span",Be,"剩余人数："+d(m(t)),1)]),u("ul",Pe,[u("li",Se,[u("span",Ge,d(m(a)[0].Name),1),u("span",Ee,d(m(re)(m(De).state.gameData.workConfig[m(a)[0].ID],0)),1),r(h,{type:"info",onClick:g,icon:"el-icon-d-arrow-left",size:"mini",circle:""}),r(h,{type:"info",icon:"el-icon-d-arrow-right",size:"mini",circle:"",onClick:f}),r(v,{style:{"margin-left":"15px"},modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=e=>l.value=e),onChange:s,label:m(a)[0].ID},{default:i((()=>[Oe])),_:1},8,["modelValue","label"])]),u("li",We,[u("span",ze,d(m(a)[1].Name),1),u("span",qe,d(m(re)(m(De).state.gameData.workConfig[m(a)[1].ID],0)),1),r(h,{onClick:C,type:"info",icon:"el-icon-d-arrow-left",size:"mini",circle:""}),r(h,{type:"info",icon:"el-icon-d-arrow-right",size:"mini",onClick:y,circle:""}),r(v,{style:{"margin-left":"15px"},modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=e=>l.value=e),onChange:s,label:m(a)[1].ID},{default:i((()=>[Ke])),_:1},8,["modelValue","label"])]),u("li",Fe,[u("span",je,d(m(a)[2].Name),1),u("span",Je,d(m(re)(m(De).state.gameData.workConfig[m(a)[2].ID],0)),1),r(h,{type:"info",onClick:k,icon:"el-icon-d-arrow-left",size:"mini",circle:""}),r(h,{type:"info",icon:"el-icon-d-arrow-right",size:"mini",onClick:D,circle:""}),r(v,{style:{"margin-left":"15px"},modelValue:l.value,"onUpdate:modelValue":p[2]||(p[2]=e=>l.value=e),onChange:s,label:m(a)[2].ID},{default:i((()=>[$e])),_:1},8,["modelValue","label"])]),u("li",Qe,[u("span",He,d(m(a)[3].Name),1),u("span",Xe,d(m(re)(m(De).state.gameData.workConfig[m(a)[3].ID],0)),1),r(h,{type:"info",onClick:w,icon:"el-icon-d-arrow-left",size:"mini",circle:""}),r(h,{type:"info",icon:"el-icon-d-arrow-right",size:"mini",circle:"",onClick:b}),r(v,{style:{"margin-left":"15px"},modelValue:l.value,"onUpdate:modelValue":p[3]||(p[3]=e=>l.value=e),onChange:s,label:m(a)[3].ID},{default:i((()=>[Ye])),_:1},8,["modelValue","label"])])])])}}}),[["__scopeId","data-v-963d6ff0"]]);const ea={class:"leftTable"},aa={style:{"font-size":"10px"}},ta=u("br",null,null,-1),oa={style:{"font-size":"10px"}},la=u("br",null,null,-1),na={style:{"text-align":"center"}},sa={style:{"font-size":"10px","text-align":"right"}},ca=u("br",null,null,-1),ra=t({setup(e){const a=I((()=>{const e=De.state.gameData.sourceArr,a=[];return e.forEach((function(e,t){e.unlock&&a.push(e)})),a}));return(e,t)=>{const l=o("el-popover"),s=o("el-table-column"),p=o("el-table");return n(),c("div",ea,[r(p,{data:m(a),"show-header":!1,stripe:!0,"tooltip-effect":"dark"},{default:i((()=>[r(s,{width:"110"},{default:i((({row:e})=>[r(l,{placement:"bottom",trigger:"hover",width:200,transition:""},{reference:i((()=>[u("span",null,d(e.resourceName),1)])),default:i((()=>[u("span",aa,[h(d(e.tip_title)+" ",1),ta,h(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1}),r(s,null,{default:i((({row:e})=>[r(l,{placement:"bottom",trigger:"hover",width:200,transition:""},{reference:i((()=>[u("p",na,d(e.maxValue>0?e.curValue+"/"+e.maxValue:e.curValue),1)])),default:i((()=>[u("span",oa,[h(d(e.tip_title)+" ",1),la,h(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1}),r(s,{width:"80"},{default:i((({row:e})=>[r(l,{placement:"bottom",trigger:"hover",width:200,transition:""},{reference:i((()=>[u("span",null,d(e.speed+"/s"),1)])),default:i((()=>[u("span",sa,[h(d(e.tip_title)+" ",1),ca,h(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1})])),_:1},8,["data"])])}}});const ia=h("家园"),ua=h("研究"),da=h("政治"),ma=h("统计");var pa=B(t({setup(e){const a=v(!1),t=v(!1);let s=0,p=0;const h=I((()=>{const e=De.state.gameData.newsID[0];return void 0===e||void 0===e[0]||void 0===e[1]||e[1]<0?(a.value=!1,""):(clearTimeout(s),a.value=!0,s=setTimeout((()=>{a.value=!1}),2e3),U.news[e[0]][e[1]])})),f=I((()=>{const e=De.state.gameData.newsID[1];return void 0===e||void 0===e[0]||void 0===e[1]||e[1]<0?(t.value=!1,""):(clearTimeout(p),t.value=!0,p=setTimeout((()=>{t.value=!1}),2e3),U.news[e[0]][e[1]])})),g=v(!1),y=I((()=>{const e=De.state.guideTipsID;if(!(e<0))return g.value=!0,U.guideTips[e];g.value=!1})),D=I((()=>{let e=50;return a.value&&(e+=60),t.value&&(e+=60),De.state.gameData.influenceLevel>=2&&(e+=60),e+"px"})),k=v("/game/build");function b(e,a){console.log(e,a)}return(e,s)=>{const p=o("el-progress"),v=o("el-popover"),I=o("el-alert"),V=o("el-col"),N=o("el-row"),R=o("el-menu-item"),_=o("el-menu"),A=o("router-view"),x=o("el-drawer");return n(),c(C,null,[r(N,null,{default:i((()=>[r(V,{height:m(D),span:24},{default:i((()=>[m(De).state.gameData.influenceLevel>=0?(n(),l(v,{key:0,placement:"bottom",title:"Title",width:400,trigger:"hover",content:"详细的速度来源信息，总值和当前值"},{reference:i((()=>[r(p,{"text-inside":!0,"stroke-width":24,percentage:m(De).state.gameData.acgProgressData.value,status:"exception",class:"head"},null,8,["percentage"])])),_:1})):w("",!0),M(u("div",null,[r(I,{type:"success",center:"",class:"head",closable:!1},{title:i((()=>[u("p",null,d(m(h)),1)])),_:1})],512),[[L,a.value]]),M(u("div",null,[r(I,{type:"success",center:"",class:"head",closable:!1},{title:i((()=>[u("p",null,d(m(f)),1)])),_:1})],512),[[L,t.value]])])),_:1},8,["height"])])),_:1}),r(N,{gutter:40},{default:i((()=>[r(V,{width:"360px",span:6,class:"leftPanel",style:{"padding-right":"0px"}},{default:i((()=>[r(ra),r(Ze)])),_:1}),r(V,{width:"360px",span:12},{default:i((()=>[r(_,{"default-active":k.value,class:"el-menu-demo",mode:"horizontal","background-color":"#F2F6FC","text-color":"#000","active-text-color":"#E6A23C",onSelect:b,router:"",style:{"margin-bottom":"0.5rem"}},{default:i((()=>[r(R,{index:"/game/build"},{default:i((()=>[ia])),_:1}),r(R,{index:"/game/research"},{title:i((()=>[ua])),_:1}),r(R,{index:"/game/build"},{default:i((()=>[da])),_:1}),r(R,{index:"/game/build"},{default:i((()=>[ma])),_:1})])),_:1},8,["default-active"]),r(A)])),_:1}),r(V)])),_:1}),r(x,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e),title:"引导",direction:"ttb","close-delay":500,size:"20%"},{default:i((()=>[u("span",null,d(m(y)),1)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-26f01644"]]);const ha={style:{"font-size":"10px"}};var fa=B({props:{buildData:{type:Object,required:!0}},methods:{buildItemClick:function(){const e=De.state.gameData.sourceArr,a=this.buildData;switch(a.click){case j.Upgrade:const t=q*(a.curValue*a.upgradeCostRatio+Math.pow(a.upgradeCostPower,a.curValue));t<=e.get($.Money).cacheValue&&(e.get($.Money).cacheValue-=t,a.curValue++,a.ID===ae.InfluenceLevel1&&1===a.curValue&&(De.commit(fe,{index:$.Believer,value:1}),De.commit(Ce,$.Believer)));break;case j.AddInfluence:e.get($.Influence).cacheValue+=G;break;case j.AddMoeny:e.get($.Money).cacheValue+=G*E;break;case j.AddResearch:e.get($.Money).cacheValue>=O&&(e.get($.Cost1).cacheValue+=G,e.get($.Money).cacheValue-=O)}}}},[["render",function(e,a,t,s,c,m){const p=o("el-button"),f=o("el-popover");return n(),l(f,{placement:"bottom",trigger:"hover",transition:"",width:200},{reference:i((()=>[u("div",null,[r(p,{class:"buildItem",type:"info",plain:"",onClick:m.buildItemClick},{default:i((()=>[h(d(t.buildData.buildName)+" ",1),M(u("span",{class:"count"},d(t.buildData.curValue),513),[[L,t.buildData.curValue>0]])])),_:1},8,["onClick"])])])),default:i((()=>[u("span",ha,d(t.buildData.baseTips),1)])),_:1})}],["__scopeId","data-v-26363240"]]);const ga=e=>(k("data-v-3cc64dba"),e=e(),b(),e),va=ga((()=>u("h3",{class:"title"},"村口",-1))),ya=ga((()=>u("h3",{class:"title"},"小镇",-1))),Ca=ga((()=>u("h3",{class:"title"},"县城",-1))),Da=ga((()=>u("h3",{class:"title"},"城市",-1))),Ia=ga((()=>u("h3",{class:"title"},"都市",-1)));var ka=B(t({setup(e){const a=v(["0"]),t=I((()=>{const e=De.state.gameData.buildArryList,a=[];return e.forEach((function(e,t){e.unlock&&0===e.cityName&&a.push(e)})),a})),s=I((()=>{const e=De.state.gameData.buildArryList,a=[];return e.forEach((function(e,t){e.unlock&&1===e.cityName&&a.push(e)})),a})),d=I((()=>{const e=De.state.gameData.buildArryList,a=[];return e.forEach((function(e,t){e.unlock&&2===e.cityName&&a.push(e)})),a})),p=I((()=>{const e=De.state.gameData.buildArryList,a=[];return e.forEach((function(e,t){e.unlock&&3===e.cityName&&a.push(e)})),a})),h=I((()=>{const e=De.state.gameData.buildArryList,a=[];return e.forEach((function(e,t){e.unlock&&4===e.cityName&&a.push(e)})),a}));return(e,f)=>{const g=o("el-collapse-item"),v=o("el-collapse");return n(),c("div",null,[r(v,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=e=>a.value=e)},{default:i((()=>[r(g,{name:"0"},{title:i((()=>[va])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(t),(e=>(n(),l(fa,{key:e.ID,class:"buildItem","build-data":e},null,8,["build-data"])))),128))])])),_:1}),m(s)&&m(s).length>0?(n(),l(g,{key:0,class:"title",title:"小镇",name:"1"},{title:i((()=>[ya])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(s),(e=>(n(),l(fa,{key:e.ID,class:"buildItem","build-data":e},null,8,["build-data"])))),128))])])),_:1})):w("",!0),m(d)&&m(d).length>0?(n(),l(g,{key:1,class:"title",title:"县城",name:"2"},{title:i((()=>[Ca])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(d),(e=>(n(),l(fa,{key:e.ID,class:"buildItem","build-data":e},null,8,["build-data"])))),128))])])),_:1})):w("",!0),m(p)&&m(p).length>0?(n(),l(g,{key:2,class:"title",title:"城市",name:"3"},{title:i((()=>[Da])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(p),(e=>(n(),l(fa,{key:e.ID,class:"buildItem","build-data":e},null,8,["build-data"])))),128))])])),_:1})):w("",!0),m(h)&&m(h).length>0?(n(),l(g,{key:3,class:"title",title:"都市",name:"4"},{title:i((()=>[Ia])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(h),(e=>(n(),l(fa,{key:e.ID,class:"buildItem","build-data":e},null,8,["build-data"])))),128))])])),_:1})):w("",!0)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-3cc64dba"]]);const ba={style:{"font-size":"10px"}};var wa=B({props:{researchData:{type:Object,required:!0}},methods:{buildItemClick:function(){const e=this.researchData,a=De.state.gameData.sourceArr,t=a.get($.Cost1),o=a.get($.Cost2),l=a.get($.Influence);e.Condition>l.cacheValue||e.Cost1>t.cacheValue||e.Cost2>o.cacheValue||(t.cacheValue-=e.Cost1,o.cacheValue-=e.Cost2,De.commit("completeResearch",e.ID),e.UnLock.length>0&&De.commit("unlockResearch",e.UnLock))}}},[["render",function(e,a,t,s,c,m){const p=o("el-button"),f=o("el-popover");return n(),l(f,{placement:"bottom",trigger:"hover",width:200},{reference:i((()=>[r(p,{class:"researchItem",type:"info",plain:"",onClick:m.buildItemClick},{default:i((()=>[h(d(t.researchData.Name),1)])),_:1},8,["onClick"])])),default:i((()=>[u("span",ba,d(t.researchData.Desc),1)])),_:1})}],["__scopeId","data-v-74e881da"]]);const Ma=e=>(k("data-v-1881b264"),e=e(),b(),e),La=Ma((()=>u("h3",null,"未完成",-1))),Va=Ma((()=>u("h3",null,"已完成",-1)));var Na=B(t({setup(e){const a=v(["0"]),t=I((()=>{const e=[],a=De.state.gameData.researchUnLockList,t=De.state.gameData.researchComplete;return a.forEach((function(a){t.indexOf(a)<0&&e.push(le.get(a))})),e})),s=I((()=>{const e=[];return De.state.gameData.researchComplete.forEach((function(a){e.push(le.get(a))})),e}));return(e,d)=>{const p=o("el-collapse-item"),h=o("el-collapse");return n(),c("div",null,[r(h,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=e=>a.value=e)},{default:i((()=>[r(p,{name:"0"},{title:i((()=>[La])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(t),(e=>(n(),l(wa,{key:e.ID,"research-data":e},null,8,["research-data"])))),128))])])),_:1}),r(p,{name:"1"},{title:i((()=>[Va])),default:i((()=>[u("ul",null,[(n(!0),c(C,null,V(m(s),(e=>(n(),l(wa,{key:e.ID,class:"buildItem","research-data":e},null,8,["research-data"])))),128))])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1881b264"]]);const Ra=N({history:R(),routes:[{path:"/",name:"home",component:_e,meta:{isGame:!1}},{path:"/introduction",name:"introduction",component:S,meta:{isGame:!1}},{name:"game",path:"/game",component:pa,meta:{isGame:!0},children:[{path:"build",name:"build",component:ka,meta:{isGame:!0}},{path:"research",name:"research",component:Na,meta:{isGame:!0}}]}]});Ra.afterEach(((e,a)=>{e.meta.isGame?De.commit("setGameRunning",!0):De.commit("setGameRunning",!1)}));const _a=_(T);_a.use(Ra),function(e){const a=(new he).Start();De.state.gameData=a,e.use(De)}(_a),_a.use(A),_a.use(x),_a.mount("#app");
