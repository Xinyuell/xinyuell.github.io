var e=Object.defineProperty,t=(t,a,l)=>(((t,a,l)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l})(t,"symbol"!=typeof a?a+"":a,l),l);import{d as a,r as l,o as s,c as o,a as n,b as r,e as u,w as i,f as c,t as d,u as m,g as p,E as y,h as v,i as f,j as h,_ as g,F as b,k as D,p as _,l as w,m as k,n as C,q as T,s as N,v as A,x as I}from"./vendor.30b12ea4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const x=a({setup:e=>(e,t)=>{const a=l("router-view");return s(),o(a)}}),V={btns:["为了孩子","为了拯救人类","为了感恩"],enterTitle:["你决定彻底消灭ACG文化","走上一条不被世界理解的道路"],enterTitle1:["你在大街上开始拦住路人宣讲、去图书馆演讲……","你大喊消灭ACG暴政，世界属于孩子！"],enterTitle2:["大城市ACG文化氛围太浓，垄断的文娱公司和被收买的无良媒体让你四处碰壁","你决定从从农村包围城市，先回到了老家"]};var U=(e,t)=>{for(const[a,l]of t)e[a]=l;return e};const M={class:"gametitle"};var G,S,L,B,R=U(a({setup(e){const t=n(V.enterTitle),a=n(V.btns);let o=0;const v=function(){0==o?(t[0]=V.enterTitle1[0],t[1]=V.enterTitle1[1]):1==o?(t[0]=V.enterTitle2[0],t[1]=V.enterTitle2[1]):2==o&&Ie.push("/game"),o++};return(e,o)=>{const n=l("el-header"),f=l("el-main"),h=l("el-container");return s(),r("div",null,[u(h,{style:{height:"100%"}},{default:i((()=>[u(n),u(f,null,{default:i((()=>[c("div",M,[c("div",null,d(m(t)[0]),1),c("div",null,d(m(t)[1]),1)]),c("div",null,[u(m(y),{class:"elButton",type:"success",onClick:v},{default:i((()=>[p(d(m(a)[0]),1)])),_:1})]),c("div",null,[u(m(y),{class:"elButton",type:"success",onClick:v},{default:i((()=>[p(d(m(a)[1]),1)])),_:1})]),c("div",null,[u(m(y),{class:"elButton",type:"success",onClick:v},{default:i((()=>[p(d(m(a)[2]),1)])),_:1})])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-2cd91edb"]]);(S=G||(G={}))[S.None=0]="None",S[S.ShowPanel=1]="ShowPanel",S[S.Research=2]="Research",S[S.AutoUnLock=4]="AutoUnLock",S[S.Upgrade=8]="Upgrade",(B=L||(L={}))[B.None=0]="None",B[B.Upgrade=1]="Upgrade",B[B.AddInfluence=2]="AddInfluence",B[B.AddMoeny=3]="AddMoeny",B[B.AddResearch=4]="AddResearch";const O=[{ID:1,Name:"影响力",Desc:"你对这个社会的影响力，很多事情都需要扩大影响力之后才能办到。",TipsContent:"影响力达到一万点后，会带来少量的金钱速度",BaseMax:100,Type:5},{ID:2,Name:"金钱",Desc:"钱不是目的，只是手段，金钱对你来说如同粪土",TipsContent:"你只是为了消灭ACG文化才收集了一点点钱",BaseMax:-1,Type:5},{ID:3,Name:"动漫知识",Desc:"知己知彼百战百胜，我不入地狱谁入地狱。这是一种研究资源",TipsContent:"这是一种研究资源",BaseMax:-1,Type:7},{ID:4,Name:"游戏知识",Desc:"知己知彼百战百胜，我不入地狱谁入地狱。",BaseMax:-1,TipsContent:"这是一种研究资源",Type:3},{ID:5,Name:"信徒",Desc:"信徒是一群彻底追随你消灭ACG的助手，会帮你扩大影响力，根据科技水平提升影响上限。",BaseMax:-1,TipsContent:"这是一种研究资源",Type:1}],q=[{ID:1,Name:"街头闲聊",Desc:"在街边闲聊，宣传ACG文化的坏处，扩大你的影响力。",BaseMax:-1,Type:4,cityName:0,OnClickType:2,UpgradeCostRatio:0},{ID:2,Name:"家教服务",Desc:"为小镇居民提供家教服务，收取不菲的酬劳，还能借机打击ACG文化，何乐而不为呢。",BaseMax:-1,Type:0,cityName:0,OnClickType:3,UpgradeCostRatio:0},{ID:3,Name:"了解动漫",Desc:"在业余时间你了解动漫知识，为伟大的计划奠定良好的基础",BaseMax:-1,Type:0,cityName:0,OnClickType:4,UpgradeCostRatio:0}];function P(e,t=1){return e>=1e4?function(e,t){for(let a=0;a<j.length;a++)if(e>=j[a].value/1.000501)return(e/j[a].value).toPrecision(t).replace(z,"$1")+j[a].symbol;return e.toPrecision(t).replace(z,"$1")}(e,3):parseFloat(e.toString()).toFixed(t)}let j=[{value:1e63,symbol:"V"},{value:1e60,symbol:"Nd"},{value:1e57,symbol:"Od"},{value:1e54,symbol:"Sd"},{value:1e51,symbol:"sd"},{value:1e48,symbol:"Qd"},{value:1e45,symbol:"qd"},{value:1e42,symbol:"Td"},{value:1e39,symbol:"Dd"},{value:1e36,symbol:"Ud"},{value:1e33,symbol:"Dc"},{value:1e30,symbol:"N"},{value:1e27,symbol:"O"},{value:1e24,symbol:"Sp"},{value:1e21,symbol:"Sx"},{value:1e18,symbol:"Qi"},{value:1e15,symbol:"Qa"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}],z=/\.0+$|(\.[0-9]*[1-9])0+$/;const E=class{constructor(){t(this,"timer"),t(this,"resourceIDMap"),t(this,"buildIDMap"),t(this,"now"),t(this,"totalTime"),this.resourceIDMap=new Map,this.buildIDMap=new Map,this.timer=0,this.now=Date.now(),this.totalTime=0}initSourceArray(e){const t=[];O.forEach((function(e,a){t.push({resourceName:e.Name,cacheValue:0,curValue:"0",maxValue:e.BaseMax,speed:100,unlock:(e.Type&G.AutoUnLock)>0,ID:e.ID,tip_title:e.Desc,tip_content:e.TipsContent})}));const a=[];for(let l=0;l<E.buildLevelMax;l++)a[l]=[];q.forEach((function(e,t){a[e.cityName].push({buildName:e.Name,curValue:0,maxValue:e.BaseMax,unlock:(e.Type&G.AutoUnLock)>0,cityName:e.cityName,ID:e.ID,click:e.OnClickType,baseTips:e.Desc,upgradeCostRatio:e.UpgradeCostRatio})})),e.sourceArr=t,e.buildArryList=a}static LoadGameData(e){}Start(){let e={cityUnlock:[!0,!1,!1,!1,!1,!1],sourceArr:[],buildArryList:[]};if(window.localStorage[E.saveName]){const t=v.decode(window.localStorage[E.saveName]),a=JSON.parse(t);void 0!==a?(e=a,F.state.haslog=!0):this.initSourceArray(e)}else this.initSourceArray(e);return this.timer=setInterval((()=>{this.update()}),E.updateTime),setInterval((()=>{this.saveGame()}),E.saveTime),this.now=Date.now(),e}saveGame(){if(!F.state.running)return;const e=v.encode(JSON.stringify(F.state.gameData));window.localStorage.setItem(E.saveName,e)}update(){if(!F.state.running)return void(this.now=Date.now());const e=(Date.now()-this.now)/1e3;this.now=Date.now();for(let t=0;t<F.state.gameData.sourceArr.length;t++){const a=F.state.gameData.sourceArr[t],l=a.speed*e;a.cacheValue+=l;const s=P(a.cacheValue);s!==a.curValue&&F.commit($,{index:t,value:s})}}};let J=E;t(J,"saveName","kill-ACG"),t(J,"saveTime",2e4),t(J,"updateTime",50),t(J,"buildLevelMax",4),t(J,"theme",0);const $="modifyResourceCurValue",F=f({state:{running:!1,haslog:!1},mutations:{modifyResourceCurValue(e,t){e.gameData.sourceArr[t.index].curValue=t.value},modifyResourceMaxValue(e,t){e.gameData.sourceArr[t.index].maxValue+=t.value},setResourceSpeed(e,t){e.gameData.sourceArr[t.index].speed=t.value},setGameRunning(e,t){e.running=t},replaceGameData(e,t){e.gameData=t}}});const Q=p("导入存档"),K=p("导出存档"),H=p("复制");var W=U(a({setup(e){const t=h("");function a(){try{let e=v.decode(t.value);const a=JSON.parse(e);void 0!==a&&void 0!==a.cityUnlock&&void 0!==a.sourceArr&&void 0!==a.buildArryList?(F.commit("replaceGameData",a),F.state.haslog=!0,D.error({showClose:!0,message:"导入成功，继续游戏吧！"})):D.error({showClose:!0,message:"存档数据不合法，导入失败"})}catch{D.error({showClose:!0,message:"存档数据不合法，导入失败"})}}async function o(){if(void 0===F.state.gameData||!1===F.state.haslog)return void D.error({showClose:!0,message:"没有存档数据"});const e=v.encode(JSON.stringify(F.state.gameData));t.value=e;try{await n(t.value),D.error({message:"内容已经成功复制到剪切板",type:"success"})}catch(a){D.error({showClose:!0,message:"失败了"})}}const{toClipboard:n}=g(),c=async()=>{try{await n(t.value),D.error({message:"内容已经成功复制到剪切板",type:"success"})}catch(e){D.error({showClose:!0,message:"失败了"})}};return(e,n)=>{const d=l("el-input"),m=l("el-button");return s(),r(b,null,[u(d,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),rows:5,type:"textarea"},null,8,["modelValue"]),u(m,{type:"primary",onClick:a,plain:""},{default:i((()=>[Q])),_:1}),u(m,{type:"primary",onClick:o,plain:""},{default:i((()=>[K])),_:1}),u(m,{type:"info",onClick:c,size:"mini",plain:""},{default:i((()=>[H])),_:1})],64)}}}),[["__scopeId","data-v-25e3c98e"]]);const X={class:"home"},Y=p("载入/导出存档"),Z=p("成就"),ee={class:"dialog-footer"},te=p("确认");var ae=U(a({setup(e){const t=h(!1);function a(){F.state.haslog?Ie.push("/game"):Ie.push("/introduction")}function o(){t.value=!0}function n(){D.error({message:"敬请期待",type:"warning"})}return(e,m)=>{const y=l("el-button"),v=l("el-dialog");return s(),r(b,null,[c("div",X,[c("div",null,[u(y,{class:"elButton",type:"success",onClick:a,round:""},{default:i((()=>[p(d(F.state.haslog?"继续游戏":"新游戏"),1)])),_:1})]),c("div",null,[u(y,{class:"elButton",type:"success",onClick:o,round:""},{default:i((()=>[Y])),_:1})]),c("div",null,[u(y,{class:"elButton",type:"success",onClick:n,round:""},{default:i((()=>[Z])),_:1})])]),u(v,{modelValue:t.value,"onUpdate:modelValue":m[1]||(m[1]=e=>t.value=e),title:"导入之前最好保存一份存档",width:"30%"},{footer:i((()=>[c("span",ee,[u(y,{type:"primary",onClick:m[0]||(m[0]=e=>t.value=!1)},{default:i((()=>[te])),_:1})])])),default:i((()=>[u(W)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-697d0c61"]]);const le=e=>(_("data-v-aec0f2d4"),e=e(),w(),e),se={class:"resourcePanel"},oe={style:{"font-size":"10px"}},ne=le((()=>c("br",null,null,-1))),re={style:{"font-size":"10px"}},ue=le((()=>c("br",null,null,-1))),ie={style:{"font-size":"10px"}},ce=le((()=>c("br",null,null,-1)));var de=U(a({props:{resourceDataList:{type:Object,required:!0}},setup:e=>(t,a)=>{const o=l("el-popover"),n=l("el-table-column"),m=l("el-table");return s(),r("div",se,[u(m,{data:e.resourceDataList.filter((e=>e.unlock)),style:{width:"100%"},"show-header":!1,stripe:!0,"tooltip-effect":"dark"},{default:i((()=>[u(n,{width:"180"},{default:i((({row:e})=>[u(o,{placement:"bottom",trigger:"hover",width:400},{reference:i((()=>[c("span",null,d(e.resourceName),1)])),default:i((()=>[c("span",oe,[p(d(e.tip_title)+" ",1),ne,p(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1}),u(n,{width:"180"},{default:i((({row:e})=>[u(o,{placement:"bottom",trigger:"hover",width:400},{reference:i((()=>[c("span",null,d(e.maxValue>0?e.curValue+"/"+e.maxValue:e.curValue),1)])),default:i((()=>[c("span",re,[p(d(e.tip_title)+" ",1),ue,p(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1}),u(n,null,{default:i((({row:e})=>[u(o,{placement:"bottom",trigger:"hover",width:400},{reference:i((()=>[c("span",null,d(e.speed+"/s"),1)])),default:i((()=>[c("span",ie,[p(d(e.tip_title)+" ",1),ce,p(" "+d(e.tip_content),1)])])),_:2},1024)])),_:1})])),_:1},8,["data"])])}}),[["__scopeId","data-v-aec0f2d4"]]);const me={style:{"font-size":"10px"}};var pe=U(a({props:{buildData:{type:Object,required:!0}},emits:["onClickBuild"],setup:(e,{emit:t})=>(t,a)=>{const n=l("el-button"),r=l("el-popover");return s(),o(r,{placement:"bottom",trigger:"hover",width:200},{reference:i((()=>[u(n,{class:"buildItem",type:"info",plain:""},{default:i((()=>[p(d(e.buildData.buildName),1)])),_:1})])),default:i((()=>[c("span",me,d(e.buildData.baseTips),1)])),_:1})}}),[["__scopeId","data-v-8658f1c2"]]);const ye=e=>(_("data-v-c89153c0"),e=e(),w(),e),ve={class:"demo-collapse"},fe=ye((()=>c("div",null,null,-1))),he=ye((()=>c("div",null,null,-1))),ge=ye((()=>c("div",null,null,-1))),be=ye((()=>c("div",null,null,-1))),De=ye((()=>c("div",null,null,-1))),_e=ye((()=>c("div",null,null,-1))),we=ye((()=>c("div",null,null,-1))),ke=ye((()=>c("div",null,null,-1))),Ce=ye((()=>c("div",null,null,-1))),Te=ye((()=>c("div",null,null,-1)));var Ne=U(a({props:{buildDataList:{type:Object,required:!0},cityUnlock:{type:Array,required:!0}},setup(e){const t=h(["0,1,2"]);function a(e){console.log(e)}return(n,d)=>{const m=l("el-collapse-item"),p=l("el-collapse");return s(),r("div",ve,[u(p,{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=e=>t.value=e),onChange:a},{default:i((()=>[e.cityUnlock[0]?(s(),o(m,{key:0,title:"村口",name:"0"},{default:i((()=>[c("ul",null,[(s(!0),r(b,null,k(e.buildDataList[0],(e=>(s(),r(b,{key:e.ID},[e.unlock?(s(),o(pe,{key:0,class:"buildItem","build-data":e},null,8,["build-data"])):C("",!0)],64)))),128))]),fe])),_:1})):C("",!0),e.cityUnlock[1]?(s(),o(m,{key:1,title:"小镇",name:"1"},{default:i((()=>[he,ge])),_:1})):C("",!0),e.cityUnlock[2]?(s(),o(m,{key:2,title:"县城",name:"2"},{default:i((()=>[be,De,_e])),_:1})):C("",!0),e.cityUnlock[3]?(s(),o(m,{key:3,title:"城市",name:"3"},{default:i((()=>[we,ke])),_:1})):C("",!0),e.cityUnlock[4]?(s(),o(m,{key:4,title:"都市",name:"4"},{default:i((()=>[Ce,Te])),_:1})):C("",!0)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-c89153c0"]]);const Ae=a({setup:e=>(e,t)=>(s(),r(b,null,[u(de,{"resource-data-list":m(F).state.gameData.sourceArr},null,8,["resource-data-list"]),u(Ne,{"city-unlock":m(F).state.gameData.cityUnlock,"build-data-list":m(F).state.gameData.buildArryList},null,8,["city-unlock","build-data-list"])],64))}),Ie=T({history:N(),routes:[{path:"/",name:"home",component:ae,meta:{isGame:!1}},{path:"/introduction",name:"introduction",component:R,meta:{isGame:!1}},{name:"game",path:"/game",component:Ae,meta:{isGame:!0}}]});Ie.afterEach(((e,t)=>{e.meta.isGame?F.commit("setGameRunning",!0):F.commit("setGameRunning",!1)}));const xe=A(x);xe.use(Ie),function(e){const t=(new J).Start();F.state.gameData=t,e.use(F)}(xe),xe.use(I),xe.mount("#app");
