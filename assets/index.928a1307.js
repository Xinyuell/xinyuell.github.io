var e=Object.defineProperty,t=(t,a,o)=>(((t,a,o)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o})(t,"symbol"!=typeof a?a+"":a,o),o);import{d as a,r as o,c as n,o as l,a as s,b as r,e as c,w as i,f as u,t as m,u as d,E as p,g,h,i as f,j as C,k as D,l as y,_ as v,m as k,F as I,p as b,n as w,q as M,s as L,v as A,x as V,y as x,z as T,A as R,B as N,C as _,D as B}from"./vendor.9aa76b40.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const U=a({setup:e=>(e,t)=>{const a=o("router-view");return l(),n(a)}}),P={startGame:{btns:["为了孩子","为了拯救人类","为了感恩"],enterTitle:["你决定彻底消灭ACG文化","走上一条不被世界理解的道路"],enterTitle1:["你在大街上开始拦住路人宣讲、去图书馆演讲……","你大喊消灭ACG暴政，世界属于孩子！"],enterTitle2:["大城市ACG文化氛围太浓，垄断的文娱公司和被收买的无良媒体让你四处碰壁","你决定从从农村包围城市，先回到了老家"]},news:["XX游戏公司宣布：因放假调休，本周六未成年人8点到9点无法进入游戏。","XX视频网下架了一批不合规的动漫，群众纷纷鼓掌叫好","全国人民喜迎游戏版号新政策！","XX通知宣布，正在研究人脸识别的未成年人防沉迷效果，为未成年人保驾护航。","□□词，□口，信仰□□，□股，□□□□□□□□□□","XX日报发文：Steam注册流程存在漏洞，无严格身份验证","XX游戏公司公布统计数据：未成年人每周六晚8点有序排队进入游戏，一般8点50分可以陆续进入。","某消保委发布调查报告，称 21 部动画查出 1465 个问题点","某工委发布网络游戏行业防沉迷自律公约，抵制通过境外游戏平台向国内用户提供服务等行为","XX署下发关于进一步严格管理 切实防止未成年人沉迷网络游戏的通知,各大游戏公司积极响应拍手叫好","媒体报道：主机游戏不限时，单机游戏缺监管！如何防小玩家钻空子"],guideTips:["解锁了金钱，金钱主要用于购买各项建筑以及研究ACG相关的知识。\n钱不是目的，只是手段，金钱对你来说如同粪土。\n你只是为了消灭ACG文化才收集了一点点钱。","解锁了动漫知识，这是一种研究资源。\n在研究分页内，解锁各项研究，加速你消灭ACG的进程。\n知己知彼百战百胜，我不入地狱谁入地狱。","你解锁了第一个信徒建筑，信徒是一群彻底追随你消灭ACG的助手，会帮你扩大影响力。\n前往小镇建设心理诊所吧。","信徒的增长比较缓慢，随着信徒越来越多，由于聚众效应，他们增长的速度也会越快。\n在工作面板分配信徒工作，可以扩大影响力、赚取金钱和研究知识。\n每名信徒可提供1点影响力、2点金钱或者1点知识的速度（研究知识会消耗2倍的金钱）","你解锁了印刷店，这是一种金钱效率建筑。\n首先你得有信徒在赚取金钱，它才会生效，每个印刷店会提高10%的赚取金钱效率","你解锁了书店，这是一种研究效率建筑。\n与印刷店一样，它会提高10%的研究动漫知识的效率","你来到新的电力时代，网瘾治疗中心，这将提供一种新的伪信徒——从众。\n从众没有信徒虔诚，他们不会主动去消灭ACG文化，但会被动的跟随信徒活动。\n即从众不会提高你的影响力上限。但你可以安排他们工作，每个从众需要额外消耗1点金钱每秒。\n从众的增长速度和信徒的增长速度一样，当信徒达到上限后，从众将获得两倍的增长速度。","你解锁了游戏知识，这是另一种ACG文化。\n游戏的荼毒更深，所以需要深入研究。每1点游戏知识需要消耗10点金钱，且只能通过信徒/从众工作获取。","你解锁了举报功能！\n举报是一项伟大的发明，将那些看不顺眼的ACG文化通通举报吧！至于对错Who care!"],complain:[["错误的举报,你惹到了一些你惹不起的人物。","错误的举报,你惹到了一些你惹不起的人物。","错误的举报,你惹到了一些你惹不起的人物。","错误的举报,你惹到了一些你惹不起的人物。","错误的举报,你惹到了一些你惹不起的人物。"],["这本国内漫画是对日本的肤浅模仿。","你发现一本国内漫画的道德体系不对，感受不到作为一个人的道德感。","这本国内漫画的舰娘文化太重，影响了青少年。",""],["这部国产动漫是在歪曲历史，哗众取宠。","你发现一部国产动漫是过度美化他国历史。","这部国产动漫的善恶观念被模糊，表现太多历史的阴暗面。","你发现一部国产动漫有太多的耽美因素，需要整改。"],["国内游戏的修仙题材太多，同质性严重。修仙并不是传统文化的代表。","这款国产游戏有太多宗教元素，带来了不好的影响。","这款国产游戏的敏感词不完善，提示不规范，领导人的名字怎么能提示非法呢。","这款国产游戏防沉迷做的不完善，9点钟没有强制登出未成年。","这款国产游戏的血腥暴力成分太多，用了太多击杀、射杀、杀死等词语。","这款国产游戏设置了违背社会公德的系统或玩法。","这款国产游戏存在双修（修仙）、结婚生子。"],["举报国外漫画1","举报国外漫画2","举报国外漫画3","举报国外漫画4","举报国外漫画5"],["举报国外动漫1","举报国外动漫2","举报国外动漫3","举报国外动漫4","举报国外动漫5"],["举报国外游戏1","举报国外游戏2","举报国外游戏3","举报国外游戏4","举报国外游戏5"],["举报外太空漫画1","举报外太空漫画2","举报外太空漫画3","举报外太空漫画4","举报外太空漫画5"],["举报外太空动漫1","举报外太空动漫2","举报外太空动漫3","举报外太空动漫4","举报外太空动漫5"],["举报外太空游戏1","举报外太空游戏2","举报外太空游戏3","举报外太空游戏4","举报外太空游戏5"]],comlainLogTips:["哎呀，不小心举报到了不该举报的人。你的影响力大受打击。","被你举报了。国内漫画行业大受打击，影响力开始下降。","被你举报了。国内动漫行业发展停滞，影响力开始下降。","被你举报了。国内游戏行业一蹶不振，影响力开始下降。","被你举报了。国际漫画行业被重挫，影响力急剧下降。","被你举报了。国际动漫行业回到起点，影响力急剧下降。","被你举报了。国际游戏行业完全崩溃了，影响力急剧下降。","被你举报了。外太空漫画行业在地球的市场全面萎缩，影响力大幅度下降。","被你举报了。外太空动漫行业在地球的市场彻底垮台，影响力大幅度下降。","被你举报了。外太空游戏行业在地球的市场遭遇毁灭性打击，影响大幅度下降。"],history:[{time:Date.UTC(2016,6,1),log:"从 2016年7月1日起，所有的手游都必须要申请版号才能运营。这是一个好的开始，你获得了100点影响力上限。"},{time:Date.UTC(2018,11,21),log:"从 2018年12月21日起，停发了半年多的游戏版号重新开放。你感到有些沮丧。"},{time:Date.UTC(2021,7,30),log:"《关于进一步严格管理 切实防止未成年人沉迷网络游戏的通知》要求，严格限制向未成年人提供网络游戏服务的时间，所有网络游戏企业仅可在周五、周六、周日和法定节假日每日20时至21时向未成年人提供1小时服务。"}]};var G=(e,t)=>{for(const[a,o]of t)e[a]=o;return e};const S={class:"gametitle"};var W=G(a({setup(e){const t=s(P.startGame.enterTitle),a=s(P.startGame.btns);let n=0;const h=function(){0==n?(t[0]=P.startGame.enterTitle1[0],t[1]=P.startGame.enterTitle1[1]):1==n?(t[0]=P.startGame.enterTitle2[0],t[1]=P.startGame.enterTitle2[1]):2==n&&Qt.push("/game/build"),n++};return(e,n)=>{const s=o("el-main"),f=o("el-container");return l(),r("div",null,[c(f,{style:{height:"100%"}},{default:i((()=>[c(s,null,{default:i((()=>[u("div",S,[u("div",null,m(d(t)[0]),1),u("div",null,m(d(t)[1]),1)]),u("div",null,[c(d(p),{class:"elButton",type:"success",onClick:h},{default:i((()=>[g(m(d(a)[0]),1)])),_:1})]),u("div",null,[c(d(p),{class:"elButton",type:"success",onClick:h},{default:i((()=>[g(m(d(a)[1]),1)])),_:1})]),u("div",null,[c(d(p),{class:"elButton",type:"success",onClick:h},{default:i((()=>[g(m(d(a)[2]),1)])),_:1})])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-4577baf1"]]);const O=1,E=2,K=2,F=10,q=.05,X=5,z=Date.UTC(2016,6,1),j=3e4,J=50,$=86400,H=1e10,Q=1e8,Y=5e6,Z=.05,ee=1e6,te=5e6,ae=1e7;var oe,ne,le,se,re,ce,ie,ue,me,de;(ne=oe||(oe={}))[ne.None=0]="None",ne[ne.ShowPanel=1]="ShowPanel",ne[ne.Research=2]="Research",ne[ne.AutoUnLock=4]="AutoUnLock",ne[ne.Upgrade=8]="Upgrade",(se=le||(le={}))[se.None=0]="None",se[se.Upgrade=1]="Upgrade",se[se.AddInfluence=2]="AddInfluence",se[se.AddMoeny=3]="AddMoeny",se[se.AddResearch=4]="AddResearch",(ce=re||(re={}))[ce.None=0]="None",ce[ce.Influence=1]="Influence",ce[ce.Money=2]="Money",ce[ce.Cost1=3]="Cost1",ce[ce.Cost2=4]="Cost2",ce[ce.Believer=5]="Believer",ce[ce.People=6]="People",(ue=ie||(ie={}))[ue.None=0]="None",ue[ue.InfluenceMoneyLevel1=1]="InfluenceMoneyLevel1",ue[ue.BelieverBuildLevel1=2]="BelieverBuildLevel1",ue[ue.MoneyBuildLevel1=3]="MoneyBuildLevel1",ue[ue.ResearchBuildLevel1=4]="ResearchBuildLevel1",ue[ue.BelieverInfluenceMax1=5]="BelieverInfluenceMax1",ue[ue.InfluenceMoneyLevel2=6]="InfluenceMoneyLevel2",ue[ue.BelieverBuildLevel2=7]="BelieverBuildLevel2",ue[ue.MoneyBuildLevel2=8]="MoneyBuildLevel2",ue[ue.ResearchBuildLevel2=9]="ResearchBuildLevel2",ue[ue.InfluenceMoneyLevel3=10]="InfluenceMoneyLevel3",ue[ue.BelieverInfluenceMax2=11]="BelieverInfluenceMax2",ue[ue.BelieverBuildCost1=12]="BelieverBuildCost1",ue[ue.MoneyBuildCost1=13]="MoneyBuildCost1",ue[ue.ResearchBuildCost1=14]="ResearchBuildCost1",ue[ue.ComplainUnLock=15]="ComplainUnLock",ue[ue.AutoComplainLevel1=16]="AutoComplainLevel1",ue[ue.AutoComplainLevel2=17]="AutoComplainLevel2",ue[ue.AutoComplainWrongLevel1=18]="AutoComplainWrongLevel1",ue[ue.AutoComplainWrongLevel2=19]="AutoComplainWrongLevel2",(de=me||(me={}))[de.InfluenceMoney=0]="InfluenceMoney",de[de.BelieverAddInfluenceMax=1]="BelieverAddInfluenceMax",de[de.InfluenceBuildCost=2]="InfluenceBuildCost",de[de.MoneyBuildCost=3]="MoneyBuildCost",de[de.ResearchBuildCost=4]="ResearchBuildCost",de[de.MoneyRatio=5]="MoneyRatio",de[de.Cost1Ratio=6]="Cost1Ratio",de[de.Cost2Ratio=7]="Cost2Ratio",de[de.BelieverMax=8]="BelieverMax",de[de.PeopleMax=9]="PeopleMax";const pe=new Map([[1,{ID:1,Name:"影响力",Desc:"你对这个社会的影响力，很多事情都需要扩大影响力之后才能办到。\n影响力解锁游戏进程，通过各种研究提高影响力上限",TipsContent:"",BaseMax:100,Type:5}],[2,{ID:2,Name:"金钱",Desc:"钱不是目的，只是手段，金钱对你来说如同粪土。\n你只是为了消灭ACG文化才收集了一点点钱",TipsContent:"",BaseMax:-1,Type:1}],[3,{ID:3,Name:"动漫知识",Desc:"知己知彼百战百胜，我不入地狱谁入地狱。\n每2点金钱转化1点动漫知识，需要买漫画书或者安排信徒研究\n在研究分页解锁各项研究",TipsContent:"",BaseMax:-1,Type:3}],[4,{ID:4,Name:"游戏知识",Desc:"游戏的荼毒更深，所以需要更多的氪金才能获得游戏知识。\n每10点金钱转化1点动漫知识，仅靠信徒研究获得\n在研究分页解锁各项研究",BaseMax:-1,TipsContent:"",Type:3}],[5,{ID:5,Name:"信徒",Desc:"信徒是一群彻底追随你消灭ACG的助手，会帮你扩大影响力。\n每个信徒提供1点影响力、2点金钱或1点动漫/游戏知识，且研究会按比例消耗金钱，可通过各种建筑提升效率\n信徒的增长速度和自身的人数相关，由于聚众效应，人越多增长越快",BaseMax:10,TipsContent:"",Type:1}],[6,{ID:6,Name:"从众",Desc:"从众是一群伪信徒，他们暂时性的追随你，但你需要付出一些金钱。\n从众与信徒工作能力一样，但每人消耗1点金钱。\n从众和信徒的增长速度一样，信徒达到上限后，从众增加速度翻倍。",BaseMax:10,TipsContent:"",Type:1}]]);var ge,he;(he=ge||(ge={}))[he.None=0]="None",he[he.AddInfluence=1]="AddInfluence",he[he.AddMoney=2]="AddMoney",he[he.AddResearch=3]="AddResearch",he[he.InfluenceLevel1=4]="InfluenceLevel1",he[he.MoneyLevel1=5]="MoneyLevel1",he[he.ResearchLevel1=6]="ResearchLevel1",he[he.InfulenceLevel2=7]="InfulenceLevel2",he[he.MoneyLevel2=8]="MoneyLevel2",he[he.ResearchLevel2=9]="ResearchLevel2";const fe=new Map([[1,{ID:1,Name:"街头闲聊",Desc:"点击获得1点影响力\n在街边闲聊，宣传ACG文化的坏处，扩大你的影响力",Type:4,cityName:0,OnClickType:2,UpgradeCostRatio:0,Require:0,UpgradeCostPower:0,ResearchProp:new Map}],[2,{ID:2,Name:"家教服务",Desc:"点击获得2点金钱\n为小镇居民提供家教服务，收取不菲的酬劳",Type:0,cityName:0,OnClickType:3,UpgradeCostRatio:0,UpgradeCostPower:0,Require:0,ResearchProp:new Map}],[3,{ID:3,Name:"买漫画书",Desc:"点击获得1点动漫知识（消耗2点金钱）\n在业余时间你了解动漫知识，为伟大的计划奠定良好的基础",Type:0,cityName:0,OnClickType:4,UpgradeCostRatio:0,UpgradeCostPower:0,Require:0,ResearchProp:new Map}],[4,{ID:4,Name:"心理诊所",Desc:"拯救心理问题的ACG青年，信徒上限+10",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:3,UpgradeCostPower:2,Require:2,ResearchProp:new Map([[8,10]])}],[5,{ID:5,Name:"印刷店",Desc:"帮助你宣传的同时赚一点钱，信徒金钱工作效率+10%",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:4,UpgradeCostPower:2,Require:3,ResearchProp:new Map([[5,.1]])}],[6,{ID:6,Name:"书店",Desc:"在书店研究漫画知识更快，信徒研究动漫知识效率+10%",Type:0,cityName:1,OnClickType:1,UpgradeCostRatio:4,UpgradeCostPower:2.2,Require:4,ResearchProp:new Map([[6,.1]])}],[7,{ID:7,Name:"网瘾治疗中心",Desc:"一种电疗实验，从众上限+100",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:6,UpgradeCostPower:2.05,Require:7,ResearchProp:new Map([[9,100]])}],[8,{ID:8,Name:"广告公司",Desc:"宣传你的思想，同时获得了不菲收益。信徒金钱工作效率+20%",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:8,UpgradeCostPower:2.05,Require:8,ResearchProp:new Map([[5,.2]])}],[9,{ID:9,Name:"运营公司",Desc:"运营一些游戏再偷偷搞垮它们，获得了不少游戏的知识。信徒研究游戏知识效率+5%",Type:0,cityName:2,OnClickType:1,UpgradeCostRatio:8,UpgradeCostPower:2.1,Require:9,ResearchProp:new Map([[7,.05]])}]]),Ce=new Map([[1,{ID:1,Name:"流量引导",Desc:"消耗20点动漫知识。影响力有了，钱就有了。每1点影响力获得0.01点的金钱速度。",Cost1:20,Cost2:0,UnLock:[2],Condition:0,ResearchProp:new Map([[0,.01]])}],[2,{ID:2,Name:"心理诊所",Desc:"消耗50点动漫知识。解锁心理诊所建筑。这将解锁信徒这种重要资源",Cost1:50,Cost2:0,UnLock:[3,4],Condition:0}],[3,{ID:3,Name:"印刷店",Desc:"消耗100点动漫知识。解锁印刷店建筑，这将有助于信徒金钱工作的效率。",Cost1:100,Cost2:0,UnLock:[],Condition:0}],[4,{ID:4,Name:"书店",Desc:"消耗200点动漫知识。解锁书店建筑，这将有助于信徒研究工作的效率。",Cost1:200,Cost2:0,UnLock:[5,6,7],Condition:0}],[5,{ID:5,Name:"虔诚信徒",Desc:"消耗500点动漫知识。信徒更加虔诚了，消灭ACG的思想也广为流传。每个信徒提升150点影响力上限",Cost1:500,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[1,150]])}],[6,{ID:6,Name:"流量变现",Desc:"消耗2000点动漫知识。你的影响力越高，你获得的钱就更多，每1点影响力增加额外0.05的金钱速度",Cost1:2e3,Cost2:0,UnLock:[],Condition:0,ResearchProp:new Map([[0,.05]])}],[7,{ID:7,Name:"网瘾治疗中心",Desc:"进入下一级城市，需要影响力达到3000点。消耗5000点动漫知识。你来到了电力时代，解锁新的建筑，这将获得一大批从众。",Cost1:5e3,Cost2:0,UnLock:[15],Condition:3e3}],[15,{ID:15,Name:"举报",Desc:"消耗10K的动漫知识。举报是一项划时代的发明，从此你可以真正打击ACG的发展了。",Cost1:1e4,Cost2:0,UnLock:[8,9],Condition:0}],[8,{ID:8,Name:"广告公司",Desc:"消耗20K点动漫知识。解锁广告公司，进一步提高信徒/从众的工作效率",Cost1:2e4,Cost2:0,UnLock:[],Condition:0}],[9,{ID:9,Name:"运营中心",Desc:"消耗20K点动漫知识。解锁运营公司，进一步提高信徒/从众的研究效率",Cost1:2e4,Cost2:0,Condition:0,UnLock:[10,11]}],[10,{ID:10,Name:"精准投放",Desc:"消耗50K点动漫知识和5000点游戏知识。一些人对你的思想还不感冒，你得找到合适的受众来宣传ACG的坏处。影响力额外增加0.1的金钱速度",Cost1:5e4,Cost2:5e3,UnLock:[],Condition:0,ResearchProp:new Map([[0,.1]])}],[11,{ID:11,Name:"狂热信徒",Desc:"消耗100K的动漫知识和10K的游戏知识。\n狂热的信徒四处宣传ACG的坏处，每名信徒额外提升500点影响力上限\n开启自动举报的工作，可以安排信徒去自动举报了",Cost1:1e5,Cost2:1e4,UnLock:[16,18],Condition:0,ResearchProp:new Map([[1,500]])}],[16,{ID:16,Name:"海外信徒",Desc:"消耗200K的动漫知识和100K的游戏知识。\n你开始发展海外的信徒，信徒将会自动举报海外的ACG事件了。",Cost1:2e5,Cost2:1e5,UnLock:[17],Condition:0}],[18,{ID:18,Name:"精准打击",Desc:"消耗200K的动漫知识和100K的游戏知识。\n降低50%信徒错误举报的概率。",Cost1:2e5,Cost2:1e5,UnLock:[19],Condition:0}],[17,{ID:17,Name:"威慑银河系",Desc:"消耗2M的动漫知识和1M的游戏知识。\n你在整个银河系都赫赫有名，没有人敢发展ACG文化了。\n信徒将会自动举报外太空的ACG事件了",Cost1:2e6,Cost2:1e6,UnLock:[],Condition:0}],[19,{ID:19,Name:"完美打击",Desc:"消耗2M的动漫知识和1M的游戏知识。\n完美的打击ACG文化，再也不会有错误的举报了。",Cost1:2e6,Cost2:1e6,UnLock:[],Condition:0}]]);var De,ye;(ye=De||(De={}))[ye.InfluenceWork=0]="InfluenceWork",ye[ye.MoneyWork=1]="MoneyWork",ye[ye.Cost1Work=2]="Cost1Work",ye[ye.Cost2Work=3]="Cost2Work",ye[ye.ComplainWork=4]="ComplainWork";const ve=new Map([[0,{ID:0,Name:"扩大影响",Desc:"每个信徒/从众提升1点影响力每秒。",Type:5}],[1,{ID:1,Name:"赚取金钱",Desc:"每个信徒/从众提升2点金钱每秒",Type:5}],[2,{ID:2,Name:"研究动漫",Desc:"每个信徒/从众消耗2点金钱，提升1点动漫知识每秒。（提升效率后消耗同比增加）",Type:5}],[3,{ID:3,Name:"研究游戏",Desc:"每个信徒/从众消耗10点金钱，提升1点游戏知识每秒。（提升效率后消耗同比增加）",Type:1}],[4,{ID:4,Name:"举报",Desc:"信徒/从众替你完成自动举报，人数越多举报的间隔越快。",Type:1}]]);function ke(e,t=1){return e>=1e4?function(e,t){for(let a=0;a<Ie.length;a++)if(e>=Ie[a].value/1.000501)return(e/Ie[a].value).toPrecision(t).replace(be,"$1")+Ie[a].symbol;return e.toPrecision(t).replace(be,"$1")}(e,3):parseFloat(e.toString()).toFixed(t)}let Ie=[{value:1e63,symbol:"V"},{value:1e60,symbol:"Nd"},{value:1e57,symbol:"Od"},{value:1e54,symbol:"Sd"},{value:1e51,symbol:"sd"},{value:1e48,symbol:"Qd"},{value:1e45,symbol:"qd"},{value:1e42,symbol:"Td"},{value:1e39,symbol:"Dd"},{value:1e36,symbol:"Ud"},{value:1e33,symbol:"Dc"},{value:1e30,symbol:"N"},{value:1e27,symbol:"O"},{value:1e24,symbol:"Sp"},{value:1e21,symbol:"Sx"},{value:1e18,symbol:"Qi"},{value:1e15,symbol:"Qa"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}],be=/\.0+$|(\.[0-9]*[1-9])0+$/;let we=0;function Me(e){const t=Je.state.gameData.sourceArr,a=Je.state.gameData.buildArryList,o=Je.state.gameData.workConfig,n=Je.state.gameData.researchComplete,l=new Map;n.forEach((function(e){const t=Ce.get(e).ResearchProp;void 0!==t&&t.forEach((function(e,t){l.set(t,e+(void 0===l.get(t)?0:l.get(t)))}))})),a.forEach((function(e,t){const a=e.ResearchProp;void 0!==a&&a.forEach((function(t,a){l.set(a,t*e.curValue+(void 0===l.get(a)?0:l.get(a)))}))})),function(e,t){e.forEach((function(e,a){let o;if(a===me.BelieverMax&&(o=t.get(re.Believer),o.cacheMaxValue=o.baseMaxValue+e),a===me.PeopleMax&&(o=t.get(re.People),o.cacheMaxValue=t.get(re.People).baseMaxValue+e),a===me.BelieverAddInfluenceMax&&(o=t.get(re.Influence),o.cacheMaxValue=t.get(re.People).baseMaxValue+e*t.get(re.Believer).cacheValue),void 0===o)return;const n=ke(o.cacheMaxValue);n!==o.maxValue&&Je.commit(Ee,{index:o.ID,value:n})}))}(l,t);const s=function(e,t,a,o,n){const l=e.get(re.Money);let s=a[De.Cost1Work],r=a[De.Cost2Work],c=e.get(re.Believer).cacheValue,i=Le(),u=1*Math.max(0,i-c);s*=(1+(o.get(me.Cost1Ratio)?o.get(me.Cost1Ratio):0))*K,r*=(1+(o.get(me.Cost2Ratio)?o.get(me.Cost2Ratio):0))*F;let m=e.get(re.Influence).cacheValue,d=a[De.MoneyWork]*E;o.has(me.InfluenceMoney)?m*=o.get(me.InfluenceMoney):m=0;o.has(me.MoneyRatio)&&(d*=1+o.get(me.MoneyRatio));let p=d+m-u-s-r;l.cacheSpeed=p;let g=!1;if(p*n+l.cacheValue<=0){for(let e=0;e<a.length;e++)a[e]=0;g=!0}return g}(t,0,o,l,e);t.forEach((function(a,n){!function(e,t,a,o,n,l){if(!e.unlock)return;switch(e.ID){case re.Influence:const a=o[De.InfluenceWork];e.cacheSpeed=a;break;case re.Cost1:let s=o[De.Cost1Work];n.has(me.Cost1Ratio)&&(s*=1+n.get(me.Cost1Ratio)),e.cacheSpeed=s;break;case re.Cost2:let r=o[De.Cost2Work];n.has(me.Cost2Ratio)&&(r*=1+n.get(me.Cost2Ratio)),e.cacheSpeed=r;break;case re.Believer:e.cacheSpeed=Math.max(.1,Math.pow(e.cacheValue,.5)*q);break;case re.People:if(l)e.cacheSpeed=0;else{const a=t.get(re.Believer);e.cacheSpeed=Math.max(.1,Math.pow(a.cacheValue,.5)*q),a.cacheMaxValue-e.cacheValue<=1e-5&&(e.cacheSpeed*=2)}}const s=ke(e.cacheSpeed,2);s!==e.speed&&Je.commit(Ke,{index:e.ID,value:s})}(a,t,0,o,l,s),function(e,t){if(e.unlock)return;switch(e.ID){case re.Money:t.get(1).cacheValue>=10&&Je.commit(Xe,re.Money);break;case re.Cost1:t.get(1).cacheValue>=20&&Je.commit(Xe,re.Cost1)}}(a,t),function(e,t,a){if(!e.unlock)return 0;const o=e.cacheSpeed*t;e.cacheValue+=o,e.cacheMaxValue>=0&&e.cacheValue>e.cacheMaxValue&&(e.cacheValue=e.cacheMaxValue);e.cacheValue<0&&(e.cacheValue=0);e.ID===re.Influence&&(e.cacheValue>=1e4?Je.state.gameData.influenceLevel=4:e.cacheValue>=3e3?Je.state.gameData.influenceLevel=3:e.cacheValue>=1e3?Je.state.gameData.influenceLevel=2:e.cacheValue>=100&&(Je.state.gameData.influenceLevel=1));const n=ke(e.cacheValue);n!==e.curValue&&Je.commit(Oe,{index:a,value:n})}(a,e,n)})),a.forEach((function(e,a){!function(e,t,a,o){if(e.unlock)return;switch(e.ID){case ge.AddMoney:t.get(1).cacheValue>=10&&(Je.commit(qe,e.ID),Ve(0));break;case ge.AddResearch:t.get(1).cacheValue>=20&&(Je.commit(qe,e.ID),Ve(1));break;default:const a=fe.get(e.ID).Require;o.indexOf(a)>0&&Je.commit(qe,e.ID)}}(e,t,0,n)})),function(e){we=Ae();let t=Le();if(we<t){let t=!1;return void(Je.state.gameData.workConfig=e.map((function(e){return t?0:we<e?(t=!0,-we):(we-=e,0)})))}if(Je.state.gameData.autoWorkIndex<0)return;Math.floor(we-t+1e-6)>=1&&Je.commit(ze,{index:Je.state.gameData.autoWorkIndex,value:1})}(o)}function Le(){let e=0;return Je.state.gameData.workConfig.forEach((function(t){e+=t})),e}function Ae(){let e=0;return Je.state.gameData.sourceArr.has(re.Believer)&&(e+=Je.state.gameData.sourceArr.get(re.Believer).cacheValue),Je.state.gameData.sourceArr.has(re.People)&&(e+=Je.state.gameData.sourceArr.get(re.People).cacheValue),e}function Ve(e){Je.commit(Fe,e),Je.state.openGuide=!0}var xe,Te;(Te=xe||(xe={}))[Te.Complain=0]="Complain",Te[Te.History=1]="History",Te[Te.Normal=2]="Normal",Te[Te.ComplainState=3]="ComplainState";const Re=["top-left","top-right","bottom-right","bottom-left"];function Ne(e){const t=Je.state.timelineLogs;if(t.length>=6){let e=-1;if(t.forEach(((t,a)=>{3===t.logType&&(e=a)})),e<0){const a={iconType:"success",color:"#67C23A",content:"",logType:3,rightCount:0,wrongCount:0};t.unshift(a),e=0}t.length;let a=t[e];Je.state.timelineLogs=t.filter((function(e){return 0!==e.logType||("warning"===e.iconType?a.wrongCount++:a.rightCount++,!1)})),a.content="你一共举报成功: "+a.rightCount+"次；失败："+a.wrongCount+"次",t.length>=6&&(Je.state.timelineLogs=t.filter((function(e){return 3===e.logType})))}Je.state.timelineLogs.unshift(e)}function _e(){if(this.logd)return void h.error({showClose:!0,message:"已经举报过了。得饶人处且饶人吧"});Be(this.message,parseInt(this.title)),this.logd=!0}function Be(e,t){e+=P.comlainLogTips[t];const a=Je.state.gameData.sourceArr;if(0==t){const t=a.get(re.Influence).cacheValue*Z;Je.commit(Oe,-t),e+="你降低了"+ke(t)+"点影响力"}else t<=3?(Je.commit(je,-ee),e+="ACG文化降低了"+ke(ee)+"点影响力"):t<=6?(Je.commit(je,-te),e+="ACG文化降低了"+ke(te)+"点影响力"):t<=9&&(Je.commit(je,-ae),e+="ACG文化降低了"+ke(ae)+"点影响力");Ne({timestamp:Se(),iconType:t>0?"success":"warning",color:t>0?"#67C23A":"#E6A23C",content:e,logType:0})}function Ue(){if(setTimeout((()=>{Ue()}),1e4*Math.random()+1e4),!Je.state.running)return;if(Je.state.gameFail)return;if(Je.state.gameData.researchComplete.indexOf(ie.ComplainUnLock)<0)return;const e=function(){const e=100*Math.random(),t=Math.floor(3*Math.random());let a=0,o=1e3;const n=Je.state.gameData.researchComplete,l=n.indexOf(ie.BelieverInfluenceMax2)>=0,s=n.indexOf(ie.AutoComplainLevel1)>=0,r=n.indexOf(ie.AutoComplainLevel2)>=0;e<10?(a=0,o=1e3):e<70?(a=t+1,o=800):e<95?(a=t+4,o=600):(a=t+7,o=400);if(l&&a<=3)return;if(s&&a<=6)return;if(r&&a<=9)return;return function(e,t){const a=P.complain[e],o=Math.floor(Math.random()*a.length),n=Math.floor(4*Math.random()),l=500*Math.random();return{title:e.toString(),message:a[o],duration:t,position:Re[n],offset:l,showClose:!1,onClick:_e}}(a,o)}();void 0!==e&&("0"!==e.title?C.success(e):C.warning(e))}function Pe(){const e=Je.state.gameData.researchComplete;Je.state.gameData.sourceArr;const t=Je.state.gameData.workConfig[De.ComplainWork];if(Je.state.running&&!Je.state.gameFail&&e.indexOf(ie.BelieverInfluenceMax2)>=0&&t>0){const t=Ge(),a=e.indexOf(ie.AutoComplainLevel1)>=0,o=e.indexOf(ie.AutoComplainLevel2)>=0,n=100*Math.random(),l=Math.floor(3*Math.random());let s=1;o?s+=n<=50?l:n<=80?l+3:l+6:a?n<=60?s+=l:n<=40&&(s+=l+3):s+=l;const r=P.complain[s];Be(r[Math.floor(Math.random()*r.length)],s),setTimeout((()=>{Pe()}),1e3*t)}else setTimeout((()=>{Pe()}),3e3)}function Ge(){const e=Je.state.gameData.workConfig[De.ComplainWork];return e<=0?-1:200/Math.pow(e+50,.4)}function Se(e){return void 0===e?new Date(z+Je.state.gameData.totalTime*$).toLocaleDateString():new Date(e).toLocaleDateString()}class We{constructor(){t(this,"timer"),t(this,"resourceIDMap"),t(this,"buildIDMap"),t(this,"now"),t(this,"totalTime"),this.resourceIDMap=new Map,this.buildIDMap=new Map,this.timer=0,this.now=Date.now(),this.totalTime=0}Start(e){!function(e,t){const a=e.gameData;if(void 0===t)return e.haslog=!1,!1;const o=f.decode(t),n=JSON.parse(o);void 0===n||void 0===n.sourceArr||void 0===n.buildArryList?e.haslog=!1:(a.acgProgressValue=n.acgProgressValue,a.influenceLevel=n.influenceLevel,a.researchUnLockList=n.researchUnLockList,a.researchComplete=n.researchComplete,a.workConfig=n.workConfig,a.autoWorkIndex=n.autoWorkIndex,a.newsID=new Set(n.newsID),a.totalTime=n.totalTime,a.historyLogID=n.historyLogID,n.sourceArr.forEach((function(e){a.sourceArr.has(e.ID)&&(a.sourceArr.get(e.ID).cacheValue=e.cacheValue,a.sourceArr.get(e.ID).unlock=e.unlock)})),n.buildArryList.forEach((function(e){a.buildArryList.has(e.ID)&&(a.buildArryList.get(e.ID).curValue=e.curValue,a.buildArryList.get(e.ID).unlock=e.unlock)})),e.haslog=!0)}(e,window.localStorage.kill_acg_game),this.timer=setInterval((()=>{this.update()}),J),setInterval((()=>{this.saveGame()}),j),setTimeout((()=>{this.randomNews()}),3e4),setTimeout((()=>{Ue()}),1e3),setTimeout((()=>{Pe()}),1e3),this.now=Date.now()}randomNews(){if(setTimeout((()=>{this.randomNews()}),6e4*Math.random()+3e4),!Je.state.running)return;if(Je.state.gameFail)return;const e=Math.floor(Math.random()*P.news.length);h.success({message:"今日新闻："+P.news[e],duration:1e4,showClose:!0,center:!0,iconClass:"success"})}saveGame(){if(!Je.state.running)return;if(Je.state.gameFail)return;const e=function(){if(!Je.state.running)return;if(Je.state.gameFail)return;const e=Je.state.gameData,t={sourceArr:[],buildArryList:[],acgProgressValue:e.acgProgressValue,influenceLevel:e.influenceLevel,researchUnLockList:e.researchUnLockList,researchComplete:e.researchComplete,workConfig:e.workConfig,autoWorkIndex:e.autoWorkIndex,newsID:Array.from(e.newsID),totalTime:e.totalTime,historyLogID:e.historyLogID};return e.sourceArr.forEach((function(e,a){t.sourceArr.push({cacheValue:e.cacheValue,unlock:e.unlock,ID:e.ID})})),e.buildArryList.forEach((function(e,a){t.buildArryList.push({curValue:e.curValue,unlock:e.unlock,ID:e.ID})})),t}(),t=f.encode(JSON.stringify(e));window.localStorage.setItem("kill_acg_game",t)}update(){if(!Je.state.running)return void(this.now=Date.now());if(Je.state.gameFail)return void(this.now=Date.now());!function(){const e=Je.state.gameData.historyLogID,t=P.history;for(let a=e+1;a<t.length-1;a++){const e=t[a];if(z+Je.state.gameData.totalTime*$>=e.time)return console.log(e.time,Se(e.time)),Ne({timestamp:Se(e.time),iconType:"success",color:"#67C23A",content:e.log,logType:xe.History}),void(Je.state.gameData.historyLogID=a)}}();const e=Date.now()-this.now;var t;Je.state.gameData.totalTime+=e,this.now=Date.now(),Me(e/1e3),t=e/1e3,Je.state.gameData.influenceLevel<=1||(Je.commit(je,t*Y),Je.state.gameData.acgProgressValue>=H?(h.error({showClose:!0,message:"游戏失败了，世界各地都被ACG文化影响，你再也无法杀死ACG了！请重新开始，你将会获得一种稀有的资源——政治背景！"}),setTimeout((()=>{h.warning({showClose:!0,message:"不过此功能暂未开放！试玩的游戏内容你已经体验完了，谢谢！节后见！"})}),4e3),Je.state.gameFail=!0):Je.state.gameData.acgProgressValue<=0&&(Je.state.gameData.acgProgressValue=0,h.success({showClose:!0,message:"世界各地都的ACG文化都被你消灭了，这个世界回归平静。你的心里充满了感恩和光明。游戏胜利了！"}),setTimeout((()=>{h.warning({showClose:!0,message:"试玩的游戏内容你已经体验完了，谢谢！节后见！"})}),4e3),Je.state.gameFail=!0))}}t(We,"buildLevelMax",4),t(We,"theme",0);const Oe="modifyResourceCurValue",Ee="modifyResourceMaxValue",Ke="setResourceSpeed",Fe="updateGuideTips",qe="unlockBuild",Xe="unlockResource",ze="updateWorkConfig",je="updateAcgProgressValue",Je=D({state:{running:!1,haslog:!1,guideTipsID:-1,gameData:function(){const e={sourceArr:new Map([]),buildArryList:new Map([]),acgProgressValue:Q,influenceLevel:0,newsID:new Set,researchUnLockList:[1],researchComplete:[],workConfig:[0,0,0,0,0],autoWorkIndex:-1,totalTime:0,historyLogID:-1},t=new Map([]);pe.forEach((function(e,a){t.set(e.ID,{resourceName:e.Name,cacheValue:0,cacheSpeed:0,cacheMaxValue:e.BaseMax,baseMaxValue:e.BaseMax,curValue:"0",maxValue:e.BaseMax.toString(),speed:"0",unlock:(e.Type&oe.AutoUnLock)>0,ID:e.ID,tip_title:e.Desc,tip_content:e.TipsContent})}));const a=new Map([]);return fe.forEach((function(e,t){a.set(e.ID,{buildName:e.Name,curValue:0,unlock:(e.Type&oe.AutoUnLock)>0,cityName:e.cityName,ID:e.ID,click:e.OnClickType,baseTips:e.Desc,upgradeCostRatio:e.UpgradeCostRatio,upgradeCostPower:e.UpgradeCostPower,ResearchProp:e.ResearchProp})})),e.sourceArr=t,e.buildArryList=a,e}(),openGuide:!1,timelineLogs:[],gameFail:!1},mutations:{modifyResourceCurValue(e,t){e.gameData.sourceArr.has(t.index)&&(e.gameData.sourceArr.get(t.index).curValue=t.value)},modifyResourceMaxValue(e,t){e.gameData.sourceArr.has(t.index)&&(e.gameData.sourceArr.get(t.index).maxValue=t.value)},setResourceSpeed(e,t){e.gameData.sourceArr.has(t.index)&&(e.gameData.sourceArr.get(t.index).speed=t.value)},setGameRunning(e,t){e.running=t},replaceGameData(e,t){e.gameData=t},updateNews(e,t){e.gameData.newsID.add(t)},updateGuideTips(e,t){e.guideTipsID=t},completeResearch(e,t){e.gameData.researchComplete.push(t)},unlockResearch(e,t){t.forEach((function(t){e.gameData.researchUnLockList.push(t)}))},unlockBuild(e,t){e.gameData.buildArryList.has(t)&&(e.gameData.buildArryList.get(t).unlock=!0)},unlockResource(e,t){e.gameData.sourceArr.has(t)&&(e.gameData.sourceArr.get(t).unlock=!0)},updateWorkConfig(e,t){e.gameData.workConfig[t.index]+=t.value,e.gameData.workConfig[t.index]<0&&(e.gameData.workConfig[t.index]=0)},updateAutoWorkIndex(e,t){e.gameData.autoWorkIndex=t},updateAcgProgressValue(e,t){e.gameData.acgProgressValue+=t}}});const $e=g("导入存档"),He=g("导出存档"),Qe=g("重置游戏"),Ye=g("反馈BUG");var Ze=G(a({setup(e){const t=y("");function a(){try{let e=f.decode(t.value);const a=JSON.parse(e);void 0!==a&&void 0!==a.cityUnlock&&void 0!==a.sourceArr&&void 0!==a.buildArryList?(Je.commit("replaceGameData",a),Je.state.haslog=!0,h.success({showClose:!0,message:"导入成功，继续游戏吧！"})):h.error({showClose:!0,message:"存档数据不合法，导入失败"})}catch{h.error({showClose:!0,message:"存档数据不合法，导入失败"})}}async function n(){if(void 0===Je.state.gameData||!1===Je.state.haslog)return void h.error({showClose:!0,message:"没有存档数据"});const e=f.encode(JSON.stringify(Je.state.gameData));t.value=e;try{await u(t.value),h.success({message:"内容已经成功复制到剪切板",type:"success"})}catch(a){h.error({showClose:!0,message:"失败了"})}}function s(){k.alert("清除存档，重置你的所有进度","危险操作！",{confirmButtonText:"OK",callback:e=>{"confirm"===e&&(window.localStorage.clear(),Qt.push("/"))}})}const{toClipboard:u}=v();return(e,u)=>{const m=o("el-input"),d=o("el-button"),p=o("el-link");return l(),r("div",null,[c(m,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=e=>t.value=e),rows:5,type:"textarea"},null,8,["modelValue"]),c(d,{class:"button",type:"primary",onClick:a,plain:""},{default:i((()=>[$e])),_:1}),c(d,{class:"button",type:"primary",onClick:n,plain:""},{default:i((()=>[He])),_:1}),c(d,{class:"button",type:"danger",onClick:s,plain:""},{default:i((()=>[Qe])),_:1}),c(p,{href:"https://github.com/Xinyuell/xinyuell.github.io",target:"_blank",type:"danger",class:"href"},{default:i((()=>[Ye])),_:1})])}}}),[["__scopeId","data-v-1c1efa3a"]]);const et=e=>(b("data-v-3c88e496"),e=e(),w(),e),tt={class:"home"},at=g("载入/导出存档"),ot=g("成就"),nt=et((()=>u("p",{style:{"font-size":"0.3rem"}},"本故事纯属虚构，如有雷同，纯属巧合",-1))),lt={class:"dialog-footer"},st=g("确认");var rt=G(a({setup(e){const t=y(!1);function a(){Je.state.haslog?Qt.push("/game/build"):Qt.push("/introduction")}function n(){t.value=!0}function s(){h.warning({message:"敬请期待",type:"warning"})}return(e,d)=>{const p=o("el-button"),h=o("el-col"),f=o("el-row"),C=o("el-dialog");return l(),r(I,null,[c(f,null,{default:i((()=>[c(h,{span:24},{default:i((()=>[u("div",tt,[u("div",null,[c(p,{class:"elButton",type:"success",onClick:a,round:""},{default:i((()=>[g(m(Je.state.haslog?"继续游戏":"新游戏"),1)])),_:1})]),u("div",null,[c(p,{class:"elButton",type:"success",onClick:n,round:""},{default:i((()=>[at])),_:1})]),u("div",null,[c(p,{class:"elButton",type:"success",onClick:s,round:""},{default:i((()=>[ot])),_:1})]),nt])])),_:1})])),_:1}),c(C,{modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=e=>t.value=e),title:"导入之前最好保存一份存档",width:"30%"},{footer:i((()=>[u("span",lt,[c(p,{type:"primary",onClick:d[0]||(d[0]=e=>t.value=!1)},{default:i((()=>[st])),_:1})])])),default:i((()=>[c(Ze)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-3c88e496"]]);const ct={class:"leftTable workTable"},it={style:{"margin-bottom":"0.2rem"}},ut={id:"spantitle"},mt={id:"workDataul"},dt={key:0,class:"worktab"},pt={class:"title"},gt={class:"tips"},ht={class:"number"},ft=(e=>(b("data-v-0e008120"),e=e(),w(),e))((()=>u("span",null,null,-1)));var Ct=G(a({setup(e){const t=M((function(){return e=>{if(e<3)return!0;const t=Je.state.gameData.researchComplete;return!(3==e&&t.indexOf(ie.ResearchBuildLevel2)<0)&&!(4==e&&t.indexOf(ie.BelieverInfluenceMax2)<0)}})),a=M((function(){return e=>{let t=e.Desc;if(e.ID===De.ComplainWork){const e=Je.state.gameData.researchComplete;e.indexOf(ie.AutoComplainLevel1)>0?t+="\n当前信徒会自动举报国内、国外的ACG事件":e.indexOf(ie.AutoComplainLevel2)>0?t+="\n当前信徒会自动举报国内、国外和外太空的ACG事件":t+="\n当前信徒仅自动举报国内的ACG事件",t+="\n当前举报一次的CD"+Ge().toFixed(2),t+=",增加人数会加速举报的进度"}return t}})),n=[function(e){k(e,0)},function(e){k(e,1)},function(e){k(e,2)},function(e){k(e,3)},function(e){k(e,4)}],s=[function(e){b(e,0)},function(e){b(e,1)},function(e){b(e,2)},function(e){b(e,3)},function(e){b(e,4)}],p=M((()=>{const e=Je.state.gameData.workConfig,t=[];return ve.forEach((function(a,o){t.push({count:e[o]?e[o]:0,Name:a.Name,ID:a.ID,Desc:a.Desc,clickAdd:n[o],clickSub:s[o]})})),t})),g=M((()=>{const e=Je.state.gameData.workConfig,t=Je.state.gameData.sourceArr;let a=0;t.has(re.Believer)&&(a+=t.get(re.Believer).cacheValue),t.has(re.People)&&(a+=t.get(re.People).cacheValue);let o=0;return e.forEach((e=>{o+=e})),Math.floor(a-o+1e-5)})),h=y(-1);let f=-1;function C(e){e>=0&&(D.value=!0),Je.commit("updateAutoWorkIndex",e)}const D=y(!1);function v(e){!1===e?(f=h.value,h.value=-1):(f<0&&(f=0),h.value=f),Je.commit("updateAutoWorkIndex",h.value)}function k(e,t){let a=1;e.ctrlKey&&(a*=10),e.shiftKey&&(a*=25),e.altKey&&(a*=100);const o=Je.state.gameData.sourceArr.get(re.Money);let n=o.cacheValue+o.cacheSpeed;if(t===De.Cost1Work?n/=K:De.Cost2Work,n/=F,n=Math.floor(n),n<0)return;a=Math.min(a,n);let l=Ae(),s=Le();l>=s+a?Je.commit(ze,{index:t,value:a}):(a=Math.floor(l-s+1e-5),a>0&&Je.commit(ze,{index:t,value:a}))}function b(e,t){let a=1;e.ctrlKey&&(a*=10),e.shiftKey&&(a*=25),e.altKey&&(a*=100);const o=Je.state.gameData.workConfig;o[t]>=a?Je.commit(ze,{index:t,value:-a}):(a=-o[t],Je.commit(ze,{index:t,value:a}))}return(e,n)=>{const s=o("el-switch"),f=o("el-popover"),y=o("el-button"),k=o("el-radio");return l(),r("div",ct,[u("div",it,[u("span",ut,"剩余人数："+m(d(g)),1),c(s,{modelValue:D.value,"onUpdate:modelValue":n[0]||(n[0]=e=>D.value=e),onChange:v,"active-text":"自动分配","inactive-text":"关闭",style:{"margin-left":"0.4rem","font-size":"0.4rem",display:"inline-block"}},null,8,["modelValue"])]),u("ul",mt,[(l(!0),r(I,null,L(d(p),(e=>(l(),r(I,{key:e.ID},[d(t)(e.ID)?(l(),r("li",dt,[c(f,{placement:"bottom",trigger:"hover",transition:"",width:200},{reference:i((()=>[u("span",pt,m(e.Name),1)])),default:i((()=>[u("span",gt,m(d(a)(e)),1)])),_:2},1024),u("span",ht,m(d(ke)(d(Je).state.gameData.workConfig[e.ID],0)),1),c(y,{type:"info",onClick:e.clickSub,icon:"el-icon-d-arrow-left",size:"mini",circle:""},null,8,["onClick"]),c(y,{type:"info",icon:"el-icon-d-arrow-right",size:"mini",circle:"",onClick:e.clickAdd},null,8,["onClick"]),c(k,{style:{"margin-left":"0.2rem"},modelValue:h.value,"onUpdate:modelValue":n[1]||(n[1]=e=>h.value=e),onChange:C,label:e.ID},{default:i((()=>[ft])),_:2},1032,["modelValue","label"])])):A("",!0)],64)))),128))])])}}}),[["__scopeId","data-v-0e008120"]]);const Dt={class:"leftTable"},yt={class:"tips"},vt=u("br",null,null,-1),kt={style:{"text-align":"center"}},It=a({setup(e){const t=M((()=>{const e=Je.state.gameData.sourceArr,t=[];return e.forEach((function(e,a){e.unlock&&t.push(e)})),t}));return(e,a)=>{const n=o("el-popover"),s=o("el-table-column"),p=o("el-table");return l(),r("div",Dt,[c(p,{data:d(t),"show-header":!1,stripe:!0,"tooltip-effect":"dark",size:"small"},{default:i((()=>[c(s,{width:"110"},{default:i((({row:e})=>[c(n,{placement:"bottom",trigger:"hover",width:200,transition:""},{reference:i((()=>[u("span",null,m(e.resourceName),1)])),default:i((()=>[u("span",yt,[g(m(e.tip_title)+" ",1),vt,g(" "+m(e.tip_content),1)])])),_:2},1024)])),_:1}),c(s,null,{default:i((({row:e})=>[u("p",kt,m(e.cacheMaxValue>0?e.curValue+"/"+e.maxValue:e.curValue),1)])),_:1}),c(s,{width:"90"},{default:i((({row:e})=>[u("span",null,m(e.speed+"/s"),1)])),_:1})])),_:1},8,["data"])])}}}),bt=g("家园"),wt=g("研究"),Mt=g("设置"),Lt=a({setup(e){const t=y("/game/build");return(e,a)=>{const s=o("el-menu-item"),r=o("el-menu");return l(),n(r,{"default-active":t.value,class:"el-menu-demo",mode:"horizontal",router:"",style:{"margin-bottom":"0.01rem"},"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:i((()=>[c(s,{index:"/game/build"},{default:i((()=>[bt])),_:1}),c(s,{index:"/game/research"},{title:i((()=>[wt])),_:1}),c(s,{index:"/game/set"},{default:i((()=>[Mt])),_:1}),A("",!0)])),_:1},8,["default-active"])}}});var At=G(a({setup:e=>(e,t)=>{const a=o("el-timeline-item"),s=o("el-timeline"),u=o("el-scrollbar");return l(),n(u,{height:"8rem"},{default:i((()=>[c(s,{style:{padding:"0.2rem 0.1rem 0.1rem 0.1rem"}},{default:i((()=>[(l(!0),r(I,null,L(d(Je).state.timelineLogs,((e,t)=>(l(),n(a,{key:t,type:e.iconType,color:e.color,timestamp:e.timestamp,"hide-timestamp":e.logType===d(xe).ComplainState,class:"timelineItem"},{default:i((()=>[g(m(e.content),1)])),_:2},1032,["type","color","timestamp","hide-timestamp"])))),128))])),_:1})])),_:1})}}),[["__scopeId","data-v-b1d9ad54"]]);const Vt={class:"tips"},xt=a({setup(e){const t=M((()=>{const e=100*Je.state.gameData.acgProgressValue/H;return parseFloat(e.toFixed(2))})),a=M((()=>{const e=100*Je.state.gameData.acgProgressValue/H,t=parseFloat(e.toFixed(2)),a=(H-Je.state.gameData.acgProgressValue)/Y;let o="ACG文化对世界造成的影响力"+ke(Je.state.gameData.acgProgressValue)+"；进度："+t+"%\n";return o+="ACG文化影响力增长速度"+ke(Y)+"\n还需"+a.toFixed(1)+"天（现实时间1秒等于游戏时间一天）,世界将被毁灭!\n",o+="解锁举报功能后将有效遏制ACG文化的发展",o}));return(e,s)=>{const r=o("el-progress"),p=o("el-popover");return d(Je).state.gameData.influenceLevel>1?(l(),n(p,{key:0,placement:"bottom",title:"ACG文化对世界的影响力",width:400,trigger:"hover"},{reference:i((()=>[c(r,{"text-inside":!0,"stroke-width":20,percentage:d(t),status:"exception",class:"head"},null,8,["percentage"])])),default:i((()=>[u("span",Vt,m(d(a)),1)])),_:1})):A("",!0)}}});const Tt=g("反馈BUG"),Rt=g("导入/导出存档"),Nt=u("span",{style:{"font-size":"0.4rem","line-height":"0.5rem",display:"inline-block"}},"指引【ESC关闭】",-1),_t={style:{"font-size":"0.3rem","line-height":"0.5rem",display:"inline-block","white-space":"pre-line"}},Bt=a({setup(e){const t=M((()=>{let e=.5;return Je.state.gameData.influenceLevel>=2&&(e+=.6),e+"rem"}));y("/game/build");const a=M((()=>{const e=Je.state.gameData.buildArryList.get(ge.InfluenceLevel1);return void 0!==e&&e.curValue>0})),s=y(!1);return(e,p)=>{const g=o("el-link"),h=o("el-button"),f=o("el-col"),C=o("el-row"),D=o("router-view"),y=o("el-scrollbar"),v=o("el-drawer");return l(),r(I,null,[c(C,null,{default:i((()=>[c(f,{span:2,class:"hidden-sm-and-down"},{default:i((()=>[c(g,{href:"https://github.com/Xinyuell/xinyuell.github.io",target:"_blank",type:"danger"},{default:i((()=>[Tt])),_:1}),c(h,{onClick:p[0]||(p[0]=()=>s.value=!0)},{default:i((()=>[Rt])),_:1})])),_:1}),c(f,{span:4,class:"hidden-sm-and-down"}),c(f,{height:d(t),span:12,class:"hidden-sm-and-down"},{default:i((()=>[c(xt)])),_:1},8,["height"]),c(f,{height:d(t),span:24,class:"hidden-md-and-up"},{default:i((()=>[c(xt)])),_:1},8,["height"])])),_:1}),c(C,{style:{"margin-top":"1rem"},class:"hidden-sm-and-down"},{default:i((()=>[c(f,{span:4}),c(f,{span:5,class:"mainCol",style:{"line-height":"0.1rem"}},{default:i((()=>[c(It),d(a)?(l(),n(Ct,{key:0})):A("",!0)])),_:1}),c(f,{span:6,class:"mainCol"},{default:i((()=>[c(Lt),c(D)])),_:1}),c(f,{span:5,class:"mainCol"},{default:i((()=>[c(At)])),_:1})])),_:1}),c(C,{style:{"margin-top":"1rem"},class:"hidden-md-and-up"},{default:i((()=>[c(f,{span:24,class:"mainCol",style:{"line-height":"0.1rem"}},{default:i((()=>[c(It),d(a)?(l(),n(Ct,{key:0})):A("",!0)])),_:1}),c(f,{span:24,class:"mainCol"},{default:i((()=>[c(Lt),c(D)])),_:1}),c(f,{span:24,class:"mainCol"},{default:i((()=>[c(At)])),_:1})])),_:1}),c(v,{modelValue:d(Je).state.openGuide,"onUpdate:modelValue":p[1]||(p[1]=e=>d(Je).state.openGuide=e),title:"",direction:"ttb",size:"4rem","close-on-click-modal":!1,"show-close":!0},{title:i((()=>[Nt])),default:i((()=>[c(y,{height:"8rem"},{default:i((()=>[u("span",_t,m(d(P).guideTips[d(Je).state.guideTipsID]),1)])),_:1})])),_:1},8,["modelValue"])],64)}}});function Ut(e){return X*(e.curValue*e.upgradeCostRatio+Math.pow(e.upgradeCostPower,e.curValue))}const Pt={class:"tips"};var Gt=G({props:{buildData:{type:Object,required:!0}},methods:{buildItemClick:function(){const e=Je.state.gameData.sourceArr,t=this.buildData;switch(t.click){case le.Upgrade:const a=Ut(t);if(a>e.get(re.Money).cacheValue)return;e.get(re.Money).cacheValue-=a,t.curValue++,function(e){e.ID===ge.InfluenceLevel1&&1===e.curValue&&(Je.commit(Xe,re.Believer),Je.commit(Oe,{index:re.Believer,value:1}),Ve(3)),e.ID===ge.MoneyLevel1&&e.curValue,e.ID===ge.ResearchLevel1&&e.curValue,e.ID===ge.InfulenceLevel2&&1===e.curValue&&(Je.commit(Xe,re.People),Ve(6)),e.ID===ge.ResearchLevel2&&1===e.curValue&&Ve(7)}(t);break;case le.AddInfluence:e.get(re.Influence).cacheValue+=O;break;case le.AddMoeny:e.get(re.Money).cacheValue+=O*E;break;case le.AddResearch:e.get(re.Money).cacheValue>=K&&(e.get(re.Cost1).cacheValue+=O,e.get(re.Money).cacheValue-=K)}}},computed:{tips:function(){const e=this.buildData;let t="";if(e.click===le.Upgrade){t+="消耗"+ke(Ut(e))+"金钱\n";const a=Je.state.gameData.sourceArr;Ut(e)>a.get(re.Money).cacheValue&&(t+="当前金钱"+ke(a.get(re.Money).cacheValue)+"无法升级\n")}return t+=e.baseTips,t},canClick:function(){const e=this.buildData;if(e.click===le.Upgrade){const t=Je.state.gameData.sourceArr;if(Ut(e)>t.get(re.Money).cacheValue)return!0}return!1}}},[["render",function(e,t,a,s,r,d){const p=o("el-button"),h=o("el-popover");return l(),n(h,{placement:"bottom",trigger:"hover",transition:"",width:200},{reference:i((()=>[c(p,{plain:d.canClick,class:"buildItem",type:"success",onClick:d.buildItemClick},{default:i((()=>[g(m(a.buildData.buildName)+" ",1),V(u("span",{class:"buildCount"},m(a.buildData.curValue),513),[[x,a.buildData.curValue>0]])])),_:1},8,["plain","onClick"])])),default:i((()=>[u("span",Pt,m(d.tips),1)])),_:1})}]]);const St=u("h3",{class:"CollapsetitleText"},"村口",-1),Wt=u("h3",{class:"CollapsetitleText"},"小镇",-1),Ot=u("h3",{class:"CollapsetitleText"},"县城",-1),Et=u("h3",{class:"CollapsetitleText"},"城市",-1),Kt=u("h3",{class:"CollapsetitleText"},"都市",-1),Ft=a({setup(e){const t=y(["0","1","2","3","4"]),a=M((()=>{const e=Je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&0===e.cityName&&t.push(e)})),t})),s=M((()=>{const e=Je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&1===e.cityName&&t.push(e)})),t})),m=M((()=>{const e=Je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&2===e.cityName&&t.push(e)})),t})),p=M((()=>{const e=Je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&3===e.cityName&&t.push(e)})),t})),g=M((()=>{const e=Je.state.gameData.buildArryList,t=[];return e.forEach((function(e,a){e.unlock&&4===e.cityName&&t.push(e)})),t}));return(e,h)=>{const f=o("el-collapse-item"),C=o("el-collapse");return l(),r("div",null,[c(C,{modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=e=>t.value=e)},{default:i((()=>[c(f,{name:"0",class:"Collapsetitle"},{title:i((()=>[St])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(a),(e=>(l(),n(Gt,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1}),d(s)&&d(s).length>0?(l(),n(f,{key:0,class:"Collapsetitle",name:"1"},{title:i((()=>[Wt])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(s),(e=>(l(),n(Gt,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):A("",!0),d(m)&&d(m).length>0?(l(),n(f,{key:1,class:"Collapsetitle",name:"2"},{title:i((()=>[Ot])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(m),(e=>(l(),n(Gt,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):A("",!0),d(p)&&d(p).length>0?(l(),n(f,{key:2,class:"Collapsetitle",name:"3"},{title:i((()=>[Et])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(p),(e=>(l(),n(Gt,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):A("",!0),d(g)&&d(g).length>0?(l(),n(f,{key:3,class:"Collapsetitle",name:"4"},{title:i((()=>[Kt])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(g),(e=>(l(),n(Gt,{key:e.ID,"build-data":e},null,8,["build-data"])))),128))])])),_:1})):A("",!0)])),_:1},8,["modelValue"])])}}}),qt={class:"tips"};var Xt=G({props:{researchData:{type:Object,required:!0}},methods:{researchItemClick:function(){const e=this.researchData,t=Je.state.gameData.sourceArr,a=t.get(re.Cost1),o=t.get(re.Cost2),n=t.get(re.Influence);e.Condition>n.cacheValue||e.Cost1>a.cacheValue||e.Cost2>o.cacheValue||(a.cacheValue-=e.Cost1,o.cacheValue-=e.Cost2,Je.commit("completeResearch",e.ID),e.UnLock.length>0&&Je.commit("unlockResearch",e.UnLock),e.ID==ie.BelieverBuildLevel1&&Ve(2),e.ID==ie.ResearchBuildLevel2&&Je.commit(Xe,re.Cost2),e.ID===ie.ComplainUnLock&&Ve(8))}}},[["render",function(e,t,a,s,r,d){const p=o("el-button"),h=o("el-popover");return l(),n(h,{placement:"bottom",trigger:"hover"},{reference:i((()=>[c(p,{class:"buildItem",type:"info",plain:"",onClick:d.researchItemClick},{default:i((()=>[g(m(a.researchData.Name),1)])),_:1},8,["onClick"])])),default:i((()=>[u("span",qt,m(a.researchData.Desc),1)])),_:1})}]]);const zt=e=>(b("data-v-3aab072f"),e=e(),w(),e),jt=zt((()=>u("h3",{class:"CollapsetitleText"},"未完成",-1))),Jt=zt((()=>u("h3",{class:"CollapsetitleText"},"已完成",-1)));var $t=G(a({setup(e){const t=y(["0"]),a=M((()=>{const e=[],t=Je.state.gameData.researchUnLockList,a=Je.state.gameData.researchComplete;return t.forEach((function(t){a.indexOf(t)<0&&e.push(Ce.get(t))})),e})),s=M((()=>{const e=[];return Je.state.gameData.researchComplete.forEach((function(t){e.push(Ce.get(t))})),e}));return(e,m)=>{const p=o("el-collapse-item"),g=o("el-collapse");return l(),r("div",null,[c(g,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=e=>t.value=e)},{default:i((()=>[c(p,{name:"0",class:"Collapsetitle"},{title:i((()=>[jt])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(a),(e=>(l(),n(Xt,{key:e.ID,"research-data":e},null,8,["research-data"])))),128))])])),_:1}),c(p,{name:"1",class:"Collapsetitle"},{title:i((()=>[Jt])),default:i((()=>[u("ul",null,[(l(!0),r(I,null,L(d(s),(e=>(l(),n(Xt,{key:e.ID,class:"buildItem","research-data":e},null,8,["research-data"])))),128))])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-3aab072f"]]);const Ht=a({setup:e=>(e,t)=>(l(),r("div",null,[c(Ze)]))}),Qt=T({history:R(),routes:[{path:"/",name:"home",component:rt,meta:{isGame:!1}},{path:"/introduction",name:"introduction",component:W,meta:{isGame:!1}},{name:"game",path:"/game",component:Bt,meta:{isGame:!0},children:[{path:"build",name:"build",component:Ft,meta:{isGame:!0}},{path:"research",name:"research",component:$t,meta:{isGame:!0}},{path:"set",name:"set",component:Ht,meta:{isGame:!0}}]}]});Qt.afterEach(((e,t)=>{e.meta.isGame?Je.commit("setGameRunning",!0):Je.commit("setGameRunning",!1)}));const Yt=N(U);var Zt;Yt.use(Qt),Zt=Yt,(new We).Start(Je.state),Zt.use(Je),Yt.use(_),Yt.use(B),Yt.mount("#app");
